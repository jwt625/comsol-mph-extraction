function out = model
%
% thermal_expansion_of_a_laminated_composite_shell.m
%
% Model exported on May 26 2025, 21:27 by COMSOL 6.2.0.339.

import com.comsol.model.*
import com.comsol.model.util.*

model = ModelUtil.create('Model');

model.modelPath('/Applications/COMSOL62/Multiphysics/applications/Composite_Materials_Module/Multiphysics');

model.modelNode.create('comp1', true);

model.geom.create('geom1', 3);
model.geom('geom1').model('comp1');

model.mesh.create('mesh1', 'geom1');

model.physics.create('lshell', 'LayeredShell', 'geom1');
model.physics('lshell').model('comp1');
model.physics('lshell').prop('StructuralTransientBehavior').set('StructuralTransientBehavior', 'Quasistatic');
model.physics.create('htlsh', 'HeatTransferInShellsLM', 'geom1');
model.physics('htlsh').model('comp1');
model.physics('htlsh').prop('ShapeProperty').set('order_temperature', '1');

model.multiphysics.create('tel1', 'ThermalExpansionLS', 'geom1', 2);
model.multiphysics('tel1').set('Heat_physics', 'htlsh');
model.multiphysics('tel1').set('Lshell_physics', 'lshell');
model.multiphysics('tel1').selection.all;

model.study.create('std1');
model.study('std1').create('stat', 'Stationary');
model.study('std1').feature('stat').setSolveFor('/physics/lshell', true);
model.study('std1').feature('stat').setSolveFor('/physics/htlsh', true);
model.study('std1').feature('stat').setSolveFor('/multiphysics/tel1', true);

model.param.label('Parameters: General');

% To import content from file, use:
% model.param.loadFile('FILENAME');
model.param.set('D_11', '141.34[GPa]', 'Lamina elasticity matrix, 11 component');
model.param.set('D_12', '3.35[GPa]', 'Lamina elasticity matrix, 12 component');
model.param.set('D_13', 'D_12', 'Lamina elasticity matrix, 13 component');
model.param.set('D_22', '10.25[GPa]', 'Lamina elasticity matrix, 22 component');
model.param.set('D_23', '2.83[GPa]', 'Lamina elasticity matrix, 23 component');
model.param.set('D_33', 'D_22', 'Lamina elasticity matrix, 33 component');
model.param.set('D_44', '4.52[GPa]', 'Lamina elasticity matrix, 44 component');
model.param.set('D_55', '2.95[GPa]', 'Lamina elasticity matrix, 55 component');
model.param.set('D_66', 'D_44', 'Lamina elasticity matrix, 66 component');
model.param.set('k1', '6.2[W/(m*K)]', 'Lamina thermal conductivity, fiber direction');
model.param.set('k2', '0.5[W/(m*K)]', 'Lamina thermal conductivity, perpendicular to fiber direction');
model.param.set('th', '0.125[mm]', 'Lamina thickness');
model.param.set('a', '25[cm]', 'Side length');
model.param.set('P0', '10[W]', 'Deposited beam power');
model.param.set('ht', '20[W/(m^2*K)]', 'Heat transfer coefficient');
model.param.set('yp', '0[m]', 'y-position of beam');
model.param.create('par2');
model.param('par2').label('Parameters: Thermal Expansion');

% To import content from file, use:
% model.param('par2').loadFile('FILENAME');
model.param('par2').set('V_f', '0.6', 'Fiber volume fraction');
model.param('par2').set('V_m', '0.4', 'Matrix volume fraction');
model.param('par2').set('E1_f', '230[GPa]', 'Fiber Young''s modulus, fiber direction');
model.param('par2').set('E_m', '4[GPa]', 'Matrix Young''s modulus');
model.param('par2').set('nu12_f', '0.2', 'Fiber Poisson''s ratio');
model.param('par2').set('nu_m', '0.35', 'Matrix Poisson''s ratio');
model.param('par2').set('alpha1_f', '-0.6e-6[1/K]', 'Fiber thermal expansion coefficient, fiber direction');
model.param('par2').set('alpha2_f', '8.5e-6[1/K]', 'Fiber thermal expansion coefficient, perpendicular to fiber direction');
model.param('par2').set('alpha_m', '55e-6[1/K]', 'Matrix thermal expansion coefficient');
model.param('par2').set('alpha1', '(V_f*alpha1_f*E1_f+V_m*alpha_m*E_m)/(V_f*E1_f+V_m*E_m)', 'Lamina thermal expansion coefficient, fiber direction');
model.param('par2').set('nu12', 'V_f*nu12_f+V_m*nu_m', 'Lamina Poisson''s ratio');
model.param('par2').set('alpha2', 'V_f*alpha2_f*(1+nu12_f*alpha1_f/alpha2_f)+V_m*alpha_m*(1+nu_m)-nu12*alpha1', 'Lamina thermal expansion coefficient, perpendicular to fiber direction');

model.material.create('mat1', 'Common', '');
model.material('mat1').label(['Material: Carbon' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Epoxy']);
model.material.create('lmat1', 'LayeredMaterial', '');
model.material('lmat1').label('Layered Material: [30/-45/75]_as');
model.material('lmat1').set('layername', {'Layer 1' 'Layer 2' 'Layer 3'});
model.material('lmat1').set('link', {'mat1' 'mat1' 'mat1'});
model.material('lmat1').set('rotation', {'0.0' '0.0' '0.0'});
model.material('lmat1').set('thickness', {'1e-4[m]' '1e-4[m]' '1e-4[m]'});
model.material('lmat1').set('meshPoints', {'2' '2' '2'});
model.material('lmat1').set('tag', {'lmat1_1' 'lmat1_2' 'lmat1_3'});
model.material('lmat1').set('matLink_int', {'' '' '' ''});
model.material('lmat1').set('intname', {'Layer 1 down' 'Layer 1-Layer 2' 'Layer 2-Layer 3' 'Layer 3 up'});
model.material('lmat1').set('position', {'0' '1E-4' '2E-4' '3E-4'});
model.material('lmat1').set('labelModified', {'false' 'false' 'false' 'false'});
model.material('lmat1').set('layername', {'Layer 1' 'Layer 2' 'Layer 3'});
model.material('lmat1').set('link', {'mat1' 'mat1' 'mat1'});
model.material('lmat1').set('rotation', {'30' '-45' '75'});
model.material('lmat1').set('thickness', {'th' 'th' 'th'});
model.material('lmat1').set('meshPoints', {'1' '1' '1'});
model.material('lmat1').set('tag', {'lmat1_0' 'lmat1_1' 'lmat1_2'});
model.material('lmat1').set('orientDist', 0.15);
model.material('lmat1').set('widthRatio', 0.6);

model.view('view1').set('showgrid', false);

model.geom('geom1').create('wp1', 'WorkPlane');
model.geom('geom1').feature('wp1').set('unite', true);
model.geom('geom1').feature('wp1').geom.create('sq1', 'Square');
model.geom('geom1').feature('wp1').geom.feature('sq1').set('size', 'a');
model.geom('geom1').feature('wp1').geom.run('sq1');
model.geom('geom1').feature('wp1').geom.create('r1', 'Rectangle');
model.geom('geom1').feature('wp1').geom.feature('r1').set('size', {'0.2*a' '0.6*a'});
model.geom('geom1').feature('wp1').geom.feature('r1').set('pos', {'0' '0.2*a'});
model.geom('geom1').feature('wp1').geom.run('r1');
model.geom('geom1').feature('wp1').geom.create('copy1', 'Copy');
model.geom('geom1').feature('wp1').geom.feature('copy1').selection('input').set({'r1'});
model.geom('geom1').feature('wp1').geom.feature('copy1').set('displx', '0.8*a');
model.geom('geom1').feature('wp1').geom.run('copy1');
model.geom('geom1').feature('wp1').geom.create('dif1', 'Difference');
model.geom('geom1').feature('wp1').geom.feature('dif1').selection('input').set({'sq1'});
model.geom('geom1').feature('wp1').geom.feature('dif1').selection('input2').set({'copy1' 'r1'});
model.geom('geom1').feature('wp1').geom.run('dif1');
model.geom('geom1').run('fin');

model.view('view1').set('showgrid', true);
model.view('view1').set('scenelight', false);

model.selection.create('sel1', 'Explicit');
model.selection('sel1').model('comp1');
model.selection('sel1').label('Fixed Edges');
model.selection('sel1').geom(1);
model.selection('sel1').set([1 4 11 12]);

model.material.create('llmat1', 'LayeredMaterialLink', 'comp1');
model.material('llmat1').set('transform', 'antisymmetry');

model.coordSystem('sys1').set('mastercoordsystcomp', '1');

model.physics('lshell').feature('lemm1').set('SolidModel', 'Anisotropic');

model.material('mat1').propertyGroup.create('Anisotropic', 'Anisotropic');
model.material('mat1').propertyGroup('Anisotropic').set('D', {'D_11' 'D_12' 'D_22' 'D_13' 'D_23' 'D_33' '0' '0' '0' 'D_44'  ...
'0' '0' '0' '0' 'D_55' '0' '0' '0' '0' '0'  ...
'D_66'});
model.material('mat1').propertyGroup('def').set('density', {'1'});
model.material('mat1').propertyGroup('def').set('thermalconductivity', {'k1' 'k2' 'k2'});
model.material('mat1').propertyGroup('def').set('heatcapacity', {'1'});
model.material('mat1').propertyGroup('def').set('thermalexpansioncoefficient', {'alpha1' 'alpha2' 'alpha2'});

model.physics('htlsh').feature('sls1').set('LayerType', 'General');
model.physics('htlsh').create('dbpi1', 'DepositedBeamPowerInterface', 2);
model.physics('htlsh').feature('dbpi1').selection.set([1]);
model.physics('htlsh').feature('dbpi1').set('applyTo', 'select');
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 0, 0);
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 1, 0);
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 2, 0);
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 3, 0);
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 4, 0);
model.physics('htlsh').feature('dbpi1').setIndex('shelllist_lCheck', 0, 5, 0);
model.physics('htlsh').feature('dbpi1').set('e', [0 0 -1]);
model.physics('htlsh').feature('dbpi1').set('P0', 'P0');
model.physics('htlsh').feature('dbpi1').set('O', {'a/2' 'yp' 'a'});
model.physics('htlsh').feature('dbpi1').set('sigma', 'a/10');
model.physics('htlsh').create('hfi1', 'HeatFluxInterface', 2);
model.physics('htlsh').feature('hfi1').selection.set([1]);
model.physics('htlsh').feature('hfi1').set('applyTo', 'select');
model.physics('htlsh').feature('hfi1').setIndex('shelllist_lCheck', 0, 6, 0);
model.physics('htlsh').feature('hfi1').set('HeatFluxType', 'ConvectiveHeatFlux');
model.physics('htlsh').feature('hfi1').set('h', 'ht');
model.physics('htlsh').create('ltemp1', 'LineTemperature', 1);
model.physics('htlsh').feature('ltemp1').selection.named('sel1');
model.physics('lshell').prop('LayerSelection').set('bndType', 'allShell');
model.physics('lshell').create('fix1', 'Fixed', 1);
model.physics('lshell').feature('fix1').selection.named('sel1');
model.physics('lshell').prop('z').set('z', 0);

model.mesh('mesh1').autoMeshSize(2);

model.study('std1').feature('stat').set('useparam', true);
model.study('std1').feature('stat').setIndex('pname', 'a', 0);
model.study('std1').feature('stat').setIndex('plistarr', '', 0);
model.study('std1').feature('stat').setIndex('punit', 'm', 0);
model.study('std1').feature('stat').setIndex('pname', 'a', 0);
model.study('std1').feature('stat').setIndex('plistarr', '', 0);
model.study('std1').feature('stat').setIndex('punit', 'm', 0);
model.study('std1').feature('stat').setIndex('pname', 'yp', 0);
model.study('std1').feature('stat').setIndex('plistarr', 'range(0,0.1*a,a)', 0);
model.study('std1').feature('stat').setIndex('punit', 'm', 0);

model.sol.create('sol1');
model.sol('sol1').study('std1');
model.sol('sol1').create('st1', 'StudyStep');
model.sol('sol1').feature('st1').set('study', 'std1');
model.sol('sol1').feature('st1').set('studystep', 'stat');
model.sol('sol1').create('v1', 'Variables');
model.sol('sol1').feature('v1').set('control', 'stat');
model.sol('sol1').create('s1', 'Stationary');
model.sol('sol1').feature('s1').create('p1', 'Parametric');
model.sol('sol1').feature('s1').feature.remove('pDef');
model.sol('sol1').feature('s1').feature('p1').set('control', 'stat');
model.sol('sol1').feature('s1').set('control', 'stat');
model.sol('sol1').feature('s1').feature('aDef').set('cachepattern', true);
model.sol('sol1').feature('s1').create('seDef', 'Segregated');
model.sol('sol1').feature('s1').create('fc1', 'FullyCoupled');
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.01);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-6);
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('termonres', 'off');
model.sol('sol1').feature('s1').feature('fc1').set('linsolver', 'dDef');
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.01);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-6);
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('termonres', 'off');
model.sol('sol1').feature('s1').feature.remove('fcDef');
model.sol('sol1').feature('s1').feature.remove('seDef');
model.sol('sol1').attach('std1');
model.sol('sol1').runAll;

model.result.dataset.create('dset1lshelllshl', 'LayeredMaterial');
model.result.dataset('dset1lshelllshl').set('data', 'dset1');
model.result.create('pg1', 'PlotGroup3D');
model.result('pg1').set('data', 'dset1lshelllshl');
model.result('pg1').setIndex('looplevel', 11, 0);
model.result('pg1').set('defaultPlotID', 'stress');
model.result('pg1').label('Stress (lshell)');
model.result('pg1').set('frametype', 'spatial');
model.result('pg1').set('showlegends', true);
model.result('pg1').create('surf1', 'Surface');
model.result('pg1').feature('surf1').set('expr', {'lshell.misesGp'});
model.result('pg1').feature('surf1').set('threshold', 'manual');
model.result('pg1').feature('surf1').set('thresholdvalue', 0.2);
model.result('pg1').feature('surf1').set('colortable', 'Rainbow');
model.result('pg1').feature('surf1').set('colortabletrans', 'none');
model.result('pg1').feature('surf1').set('colorscalemode', 'linear');
model.result('pg1').feature('surf1').set('colortable', 'Prism');
model.result('pg1').feature('surf1').create('def', 'Deform');
model.result('pg1').feature('surf1').feature('def').set('expr', {'u' 'v' 'w'});
model.result('pg1').feature('surf1').feature('def').set('descr', 'Displacement field (material and geometry frames)');
model.result.dataset.create('lshl1', 'LayeredMaterial');
model.result.dataset('lshl1').set('data', 'dset1');
model.result.dataset('lshl1').selection.geom('geom1', 2);
model.result.dataset('lshl1').selection.set([1]);
model.result.create('pg2', 'PlotGroup3D');
model.result('pg2').label('Temperature, Shell (htlsh)');
model.result('pg2').set('data', 'dset1');
model.result('pg2').setIndex('looplevel', 11, 0);
model.result('pg2').set('defaultPlotID', 'htlsh/HTLSH_PhysicsInterfaces/icom36/pdef1/pcond4/pcond1/pg1');
model.result('pg2').feature.create('vol1', 'Volume');
model.result('pg2').feature('vol1').set('data', 'lshl1');
model.result('pg2').feature('vol1').setIndex('looplevel', 11, 0);
model.result('pg2').feature('vol1').set('solutionparams', 'parent');
model.result('pg2').feature('vol1').set('expr', 'T');
model.result('pg2').feature('vol1').set('colortable', 'HeatCameraLight');
model.result('pg2').feature('vol1').set('smooth', 'internal');
model.result('pg2').feature('vol1').set('data', 'lshl1');
model.result('pg1').run;
model.result.dataset('dset1lshelllshl').set('scale', 10);
model.result('pg1').run;
model.result('pg1').setIndex('looplevel', 6, 0);
model.result('pg1').run;
model.result('pg1').feature('surf1').set('unit', 'MPa');
model.result('pg1').run;
model.result('pg2').run;
model.result('pg2').setIndex('looplevel', 6, 0);
model.result('pg2').run;
model.result.create('pg3', 'PlotGroup3D');
model.result('pg3').set('data', 'dset1');
model.result('pg3').setIndex('looplevel', 11, 0);
model.result('pg3').set('defaultPlotID', 'stressSlice');
model.result('pg3').label('Stress, Slice (lshell)');
model.result('pg3').set('showlegends', true);
model.result('pg3').set('frametype', 'spatial');
model.result('pg3').create('lss1', 'LayeredMaterialSlice');
model.result('pg3').feature('lss1').set('expr', {'lshell.misesGp'});
model.result('pg3').feature('lss1').set('threshold', 'manual');
model.result('pg3').feature('lss1').set('thresholdvalue', 0.2);
model.result('pg3').feature('lss1').set('colortable', 'Prism');
model.result('pg3').feature('lss1').set('colortabletrans', 'none');
model.result('pg3').feature('lss1').set('colorscalemode', 'linear');
model.result('pg3').feature('lss1').set('locdef', 'relative');
model.result('pg3').feature('lss1').set('localzrel', 'lshell.z');
model.result('pg3').feature('lss1').create('def', 'Deform');
model.result('pg3').feature('lss1').feature('def').set('expr', {'u' 'v' 'w'});
model.result('pg3').feature('lss1').feature('def').set('descr', 'Displacement field (material and geometry frames)');
model.result('pg3').label('Stress, Slice (lshell)');
model.result('pg3').run;
model.result('pg3').setIndex('looplevel', 6, 0);
model.result('pg3').run;
model.result('pg3').feature('lss1').set('unit', 'MPa');
model.result('pg3').run;
model.result.create('pg4', 'PlotGroup1D');
model.result('pg4').set('data', 'dset1');
model.result('pg4').set('defaultPlotID', 'stressThroughThickness');
model.result('pg4').set('showlegends', true);
model.result('pg4').create('thr1', 'ThroughThickness');
model.result('pg4').feature('thr1').set('expr', {'lshell.misesGp'});
model.result('pg4').feature('thr1').set('legend', true);
model.result('pg4').feature('thr1').set('posentry', 'selection');
model.result('pg4').feature('thr1').selection.geom('geom1', 0);
model.result('pg4').feature('thr1').selection.set([1]);
model.result('pg4').label('Stress, Through Thickness (lshell)');
model.result('pg4').setIndex('looplevelinput', 'last', 0);
model.result('pg4').label('Stress, Through Thickness (lshell)');
model.result('pg4').run;
model.result('pg4').setIndex('looplevelinput', 'manual', 0);
model.result('pg4').setIndex('looplevel', [6], 0);
model.result('pg4').run;
model.result('pg4').feature('thr1').selection.set([5 6 7 8]);
model.result('pg4').feature('thr1').set('unit', 'MPa');
model.result('pg4').feature('thr1').set('linestyle', 'cycle');
model.result('pg4').run;
model.result.dataset.create('dset1lshelllshlge', 'LayeredMaterial');
model.result.dataset('dset1lshelllshlge').label('Layered Material 2 (Shell Geometry)');
model.result.dataset('dset1lshelllshlge').set('data', 'dset1');
model.result.dataset('dset1lshelllshlge').set('scale', '50*0.03535533905932738');
model.result.dataset('dset1lshelllshlge').set('defaultPlotIDs', {'shellGeometry|lshell' 'plyAngle|lshell'});
model.result.dataset('dset1lshelllshlge').label('Layered Material 2 (Shell Geometry)');
model.result.create('pg5', 'PlotGroup3D');
model.result('pg5').set('data', 'dset1lshelllshlge');
model.result('pg5').setIndex('looplevel', 11, 0);
model.result('pg5').set('defaultPlotID', 'shellGeometry');
model.result('pg5').label('Shell Geometry (lshell)');
model.result('pg5').set('titletype', 'label');
model.result('pg5').set('showlegends', false);
model.result('pg5').create('surf1', 'Surface');
model.result('pg5').feature('surf1').set('expr', {'1'});
model.result('pg5').feature('surf1').set('threshold', 'manual');
model.result('pg5').feature('surf1').set('thresholdvalue', 0.2);
model.result('pg5').feature('surf1').set('colortable', 'Rainbow');
model.result('pg5').feature('surf1').set('colortabletrans', 'none');
model.result('pg5').feature('surf1').set('colorscalemode', 'linear');
model.result('pg5').feature('surf1').set('coloring', 'uniform');
model.result('pg5').feature('surf1').set('color', 'gray');
model.result('pg5').label('Shell Geometry (lshell)');
model.result('pg5').run;
model.result.dataset.create('dset1lshelllshlfi', 'LayeredMaterial');
model.result.dataset('dset1lshelllshlfi').label('Layered Material 2 (Material Direction)');
model.result.dataset('dset1lshelllshlfi').set('data', 'dset1');
model.result.dataset('dset1lshelllshlfi').set('evaluatein', 'layermidplanes');
model.result.dataset('dset1lshelllshlfi').set('scale', '200*0.03535533905932738');
model.result.dataset('dset1lshelllshlfi').set('defaultPlotIDs', {'firstPrincipalMaterialDirection|lshell'});
model.result.dataset('dset1lshelllshlfi').label('Layered Material 2 (Material Direction)');
model.result.create('pg6', 'PlotGroup3D');
model.result('pg6').set('data', 'dset1lshelllshlfi');
model.result('pg6').setIndex('looplevel', 11, 0);
model.result('pg6').set('defaultPlotID', 'firstPrincipalMaterialDirection');
model.result('pg6').label('First Principal Material Direction (lshell)');
model.result('pg6').set('titletype', 'label');
model.result('pg6').set('edgecolor', 'white');
model.result('pg6').set('showlegends', false);
model.result('pg6').create('surf1', 'Surface');
model.result('pg6').feature('surf1').set('expr', {'lshell.rot'});
model.result('pg6').feature('surf1').set('threshold', 'manual');
model.result('pg6').feature('surf1').set('thresholdvalue', 0.2);
model.result('pg6').feature('surf1').set('colortabletrans', 'none');
model.result('pg6').feature('surf1').set('colorscalemode', 'linear');
model.result('pg6').feature('surf1').set('unit', 'deg');
model.result('pg6').feature('surf1').set('colortable', 'Rainbow');
model.result('pg6').feature('surf1').set('rangecoloractive', true);
model.result('pg6').feature('surf1').set('rangecolormin', -90);
model.result('pg6').feature('surf1').set('rangecolormax', 90);
model.result('pg6').create('arws1', 'ArrowSurface');
model.result('pg6').feature('arws1').set('expr', {'lshell.tm11' 'lshell.tm12' 'lshell.tm13'});
model.result('pg6').feature('arws1').set('placement', 'elements');
model.result('pg6').feature('arws1').set('arrowtype', 'cone');
model.result('pg6').feature('arws1').set('color', 'white');
model.result('pg6').label('First Principal Material Direction (lshell)');
model.result('pg6').run;
model.result.dataset('dset1lshelllshlge').set('scale', 50);
model.result.dataset('dset1lshelllshlfi').set('scale', 200);
model.result('pg5').run;
model.result('pg5').run;
model.result('pg6').run;
model.result('pg6').run;
model.result.dataset.create('cln1', 'CutLine3D');
model.result.dataset('cln1').setIndex('genpoints', 'a/2', 0, 1);
model.result.dataset('cln1').setIndex('genpoints', 'a', 1, 0);
model.result.dataset('cln1').setIndex('genpoints', 'a/2', 1, 1);
model.result.dataset.duplicate('cln2', 'cln1');
model.result.dataset('cln2').setIndex('genpoints', 'a/2', 0, 0);
model.result.dataset('cln2').setIndex('genpoints', 0, 0, 1);
model.result.dataset('cln2').setIndex('genpoints', 'a/2', 1, 0);
model.result.dataset('cln2').setIndex('genpoints', 'a', 1, 1);
model.result.create('pg7', 'PlotGroup1D');
model.result('pg7').run;
model.result('pg7').label('Temperature Distribution along X-axis');
model.result('pg7').set('data', 'cln1');
model.result('pg7').set('titletype', 'manual');
model.result('pg7').set('title', 'Line Graph: Temperature Distribution for Different Beam Location');
model.result('pg7').create('lngr1', 'LineGraph');
model.result('pg7').feature('lngr1').set('markerpos', 'datapoints');
model.result('pg7').feature('lngr1').set('linewidth', 'preference');
model.result('pg7').feature('lngr1').set('expr', 'T');
model.result('pg7').feature('lngr1').set('xdata', 'expr');
model.result('pg7').feature('lngr1').set('xdataexpr', 'X');
model.result('pg7').feature('lngr1').set('linestyle', 'cycle');
model.result('pg7').feature('lngr1').set('legend', true);
model.result('pg7').run;
model.result('pg7').run;
model.result.duplicate('pg8', 'pg7');
model.result('pg8').run;
model.result('pg8').label('Temperature Distribution along Y-axis');
model.result('pg8').set('data', 'cln2');
model.result('pg8').run;
model.result('pg8').feature('lngr1').set('xdataexpr', 'Y');
model.result('pg8').run;

model.view.create('view4', 3);
model.view('view4').camera.set('zoomanglefull', 12.842660903930664);
model.view('view4').camera.set('position', [-2.6369118690490723 -4 3]);
model.view('view4').camera.setIndex('position', -3.7825491428375244, 1);
model.view('view4').camera.setIndex('position', 3.0619118213653564, 2);
model.view('view4').camera.setIndex('target', 0.4249997138977051, 0);
model.view('view4').camera.setIndex('target', 0.2999999523162842, 1);
model.view('view4').camera.setIndex('target', 0, 2);
model.view('view4').camera.set('up', {'0.30869740247726440' '0' '1'});
model.view('view4').camera.setIndex('up', '0.41159659624099730', 1);
model.view('view4').camera.setIndex('up', '0.85749292373657230', 2);
model.view('view4').camera.setIndex('viewoffset', -0.059839848428964615, 0);
model.view('view4').camera.setIndex('viewoffset', -0.003313512308523059, 1);
model.view('view4').set('scenelight', false);
model.view('view4').set('locked', true);

model.result.create('pg9', 'PlotGroup3D');
model.result('pg9').run;
model.result('pg9').label('Stress: von Mises');
model.result('pg9').setIndex('looplevel', 6, 0);
model.result('pg9').set('view', 'view4');
model.result('pg9').create('lss1', 'LayeredMaterialSlice');
model.result('pg9').feature('lss1').set('expr', 'lshell.mises');
model.result('pg9').feature('lss1').set('unit', 'MPa');
model.result('pg9').feature('lss1').set('locdef', 'layermidplanes');
model.result('pg9').feature('lss1').set('slicedisplacement', 'rectangular');
model.result('pg9').feature('lss1').set('xseparation', 0.2);
model.result('pg9').feature('lss1').set('yseparation', 0.2);
model.result('pg9').feature('lss1').set('showdescriptions', true);
model.result('pg9').feature('lss1').set('descriptionseparation', 0.35);
model.result('pg9').feature('lss1').set('colortable', 'RainbowLight');
model.result('pg9').feature('lss1').set('rangecoloractive', true);
model.result('pg9').feature('lss1').set('rangecolormax', 25);
model.result('pg9').run;

model.view('view4').set('showgrid', false);

model.result('pg9').run;
model.result.duplicate('pg10', 'pg9');
model.result('pg10').run;
model.result('pg10').label('Laminate Stress: Slm11');
model.result('pg10').run;
model.result('pg10').feature('lss1').set('expr', 'lshell.Slm11');
model.result('pg10').feature('lss1').set('descractive', true);
model.result('pg10').feature('lss1').set('descr', 'Second Piola-Kirchhoff stress (Slm11)');
model.result('pg10').feature('lss1').set('rangecolormin', -5);
model.result('pg10').feature('lss1').set('rangecolormax', 5);
model.result('pg10').run;
model.result('pg10').run;
model.result.duplicate('pg11', 'pg10');
model.result('pg11').run;
model.result('pg11').label('Laminate Stress: Slm22');
model.result('pg11').run;
model.result('pg11').feature('lss1').set('expr', 'lshell.Slm22');
model.result('pg11').feature('lss1').set('descr', 'Second Piola-Kirchhoff stress (Slm22)');
model.result('pg11').run;
model.result('pg11').run;
model.result.duplicate('pg12', 'pg11');
model.result('pg12').run;
model.result('pg12').label('Laminate Stress: Slm12');
model.result('pg12').run;
model.result('pg12').feature('lss1').set('expr', 'lshell.Slm12');
model.result('pg12').feature('lss1').set('descr', 'Second Piola-Kirchhoff stress (Slm12)');
model.result('pg12').run;
model.result.export.create('anim1', 'Animation');
model.result.export('anim1').set('target', 'player');
model.result.export('anim1').set('fontsize', '9');
model.result.export('anim1').set('colortheme', 'globaltheme');
model.result.export('anim1').set('customcolor', [1 1 1]);
model.result.export('anim1').set('background', 'color');
model.result.export('anim1').set('gltfincludelines', 'on');
model.result.export('anim1').set('title1d', 'on');
model.result.export('anim1').set('legend1d', 'on');
model.result.export('anim1').set('logo1d', 'on');
model.result.export('anim1').set('options1d', 'on');
model.result.export('anim1').set('title2d', 'on');
model.result.export('anim1').set('legend2d', 'on');
model.result.export('anim1').set('logo2d', 'on');
model.result.export('anim1').set('options2d', 'off');
model.result.export('anim1').set('title3d', 'on');
model.result.export('anim1').set('legend3d', 'on');
model.result.export('anim1').set('logo3d', 'on');
model.result.export('anim1').set('options3d', 'off');
model.result.export('anim1').set('axisorientation', 'on');
model.result.export('anim1').set('grid', 'on');
model.result.export('anim1').set('axes1d', 'on');
model.result.export('anim1').set('axes2d', 'on');
model.result.export('anim1').set('showgrid', 'on');
model.result.export('anim1').showFrame;
model.result.export('anim1').set('plotgroup', 'pg2');
model.result.export('anim1').label('Animation: Temperature');
model.result.export('anim1').set('frametime', 0.3);
model.result.export('anim1').showFrame;
model.result.export('anim1').set('maxframes', 11);
model.result.export.duplicate('anim2', 'anim1');
model.result.export('anim2').showFrame;
model.result.export('anim2').set('plotgroup', 'pg3');
model.result.export('anim2').label('Animation: Stress');
model.result.export('anim2').showFrame;
model.result.export.duplicate('anim3', 'anim2');
model.result.export('anim3').showFrame;
model.result.export('anim3').label('Animation: Laminate Stress, Sml11');
model.result.export('anim3').set('plotgroup', 'pg10');
model.result.export('anim3').showFrame;
model.result('pg12').run;

model.title('Thermal Expansion of a Laminated Composite Shell');

model.description(['This example illustrates the thermal-stress analysis of a laminated composite shell subjected to a deposited beam power heat source. The composite shell considered for this analysis is having six layers with antisymmetric angle-ply layup. The carbon' native2unicode(hex2dec({'20' '13'}), 'unicode') 'epoxy material having orthotropic material properties is used as a lamina material. The layerwise theory based approach is used to model the structural part of a composite shell.' newline  newline 'This example also demonstrates the computation of homogenized thermal expansion coefficient of a lamina and analyzes the effect of the position of heat source on the stress and deformation profiles.']);

model.mesh.clearMeshes;

model.sol('sol1').clearSolutionData;

model.label('thermal_expansion_of_a_laminated_composite_shell.mph');

model.modelNode.label('Components');

out = model;
