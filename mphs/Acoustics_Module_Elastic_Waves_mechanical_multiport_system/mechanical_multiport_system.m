function out = model
%
% mechanical_multiport_system.m
%
% Model exported on May 26 2025, 21:25 by COMSOL 6.2.0.339.

import com.comsol.model.*
import com.comsol.model.util.*

model = ModelUtil.create('Model');

model.modelPath('/Applications/COMSOL62/Multiphysics/applications/Acoustics_Module/Elastic_Waves');

model.modelNode.create('comp1', true);

model.geom.create('geom1', 3);
model.geom('geom1').model('comp1');

model.mesh.create('mesh1', 'geom1');

model.physics.create('solid', 'SolidMechanics', 'geom1');
model.physics('solid').model('comp1');

model.study.create('std1');

% To import content from file, use:
% model.param.loadFile('FILENAME');
model.param.set('f0', '10[kHz]', 'Excitation frequency');
model.param.set('cp', '5778[m/s]', 'Pressure wave speed');
model.param.set('cs', '3193.9[m/s]', 'Shear wave speed');
model.param.set('kp', '2*pi*f0/cp', 'Pressure-wave wave number');
model.param.set('ks', '2*pi*f0/cs', 'Shear-wave wave number');
model.param.set('k_lo', '12.429[1/m]', 'Longitudinal mode wave number at 10 kHz');
model.param.set('k_to', '27.342[1/m]', 'Torsional mode wave number at 10 kHz');
model.param.set('k_tr1', '208.25[1/m]', 'Translational mode 1 wave number at 10 kHz');
model.param.set('k_tr2', '293.94[1/m]', 'Translational mode 2 wave number at 10 kHz');

model.geom('geom1').lengthUnit('mm');
model.geom('geom1').create('imp1', 'Import');
model.geom('geom1').feature('imp1').set('filename', 'mechanical_multiport_system.mphbin');
model.geom('geom1').feature('imp1').importData;
model.geom('geom1').run('fin');

model.selection.create('sel1', 'Explicit');
model.selection('sel1').model('comp1');
model.selection('sel1').label('input/output 1');
model.selection('sel1').geom(2);
model.selection('sel1').set([1]);
model.selection.create('sel2', 'Explicit');
model.selection('sel2').model('comp1');
model.selection('sel2').label('input/output 2');
model.selection('sel2').geom(2);
model.selection('sel2').set([6]);
model.selection.create('sel3', 'Explicit');
model.selection('sel3').model('comp1');
model.selection('sel3').label('input/output 3');
model.selection('sel3').geom(2);
model.selection('sel3').set([47]);
model.selection.create('sel4', 'Explicit');
model.selection('sel4').model('comp1');
model.selection('sel4').label('input/output 4');
model.selection('sel4').geom(2);
model.selection('sel4').set([48]);

model.material.create('mat1', 'Common', 'comp1');
model.material('mat1').propertyGroup.create('Enu', 'Young''s modulus and Poisson''s ratio');
model.material('mat1').label('Aluminum 6063-T83');
model.material('mat1').set('family', 'aluminum');
model.material('mat1').propertyGroup('def').set('relpermeability', {'1' '0' '0' '0' '1' '0' '0' '0' '1'});
model.material('mat1').propertyGroup('def').set('electricconductivity', {'3.030e7[S/m]' '0' '0' '0' '3.030e7[S/m]' '0' '0' '0' '3.030e7[S/m]'});
model.material('mat1').propertyGroup('def').set('thermalexpansioncoefficient', {'23.4e-6[1/K]' '0' '0' '0' '23.4e-6[1/K]' '0' '0' '0' '23.4e-6[1/K]'});
model.material('mat1').propertyGroup('def').set('heatcapacity', '900[J/(kg*K)]');
model.material('mat1').propertyGroup('def').set('relpermittivity', {'1' '0' '0' '0' '1' '0' '0' '0' '1'});
model.material('mat1').propertyGroup('def').set('density', '2700[kg/m^3]');
model.material('mat1').propertyGroup('def').set('thermalconductivity', {'201[W/(m*K)]' '0' '0' '0' '201[W/(m*K)]' '0' '0' '0' '201[W/(m*K)]'});
model.material('mat1').propertyGroup('Enu').set('E', '69[GPa]');
model.material('mat1').propertyGroup('Enu').set('nu', '0.33');

model.physics('solid').create('fix1', 'Fixed', 2);
model.physics('solid').feature('fix1').selection.set([23 25]);
model.physics('solid').create('port1', 'Port', 2);
model.physics('solid').feature('port1').selection.named('sel1');
model.physics('solid').feature('port1').set('PortExcitation', 'off');
model.physics('solid').create('port2', 'Port', 2);
model.physics('solid').feature('port2').selection.named('sel2');
model.physics('solid').create('port3', 'Port', 2);
model.physics('solid').feature('port3').selection.named('sel3');
model.physics('solid').create('port4', 'Port', 2);
model.physics('solid').feature('port4').selection.named('sel4');

model.nodeGroup.create('grp1', 'Physics', 'solid');
model.nodeGroup('grp1').placeAfter('fix1');
model.nodeGroup('grp1').add('port1');
model.nodeGroup('grp1').add('port2');
model.nodeGroup('grp1').add('port3');
model.nodeGroup('grp1').add('port4');
model.nodeGroup('grp1').label('Longitudinal Mode');
model.nodeGroup.duplicate('grp2', 'grp1');
model.nodeGroup('grp2').label('Torsional Mode');
model.nodeGroup.duplicate('grp3', 'grp2');
model.nodeGroup('grp3').label('Translational Mode 1');
model.nodeGroup.duplicate('grp4', 'grp3');
model.nodeGroup('grp4').label('Translational Mode 2');

model.mesh('mesh1').automatic(false);
model.mesh('mesh1').feature('size').set('custom', true);
model.mesh('mesh1').feature('size').set('hmax', 1);
model.mesh('mesh1').feature('size').set('hmin', 0.05);
model.mesh('mesh1').feature('size').set('hcurve', 0.3);
model.mesh('mesh1').feature('size').set('hnarrow', 5);
model.mesh('mesh1').feature.remove('ftet1');
model.mesh('mesh1').create('ftri1', 'FreeTri');
model.mesh('mesh1').feature('ftri1').selection.set([4 9]);
model.mesh('mesh1').run('ftri1');
model.mesh('mesh1').create('cpf1', 'CopyFace');
model.mesh('mesh1').feature('cpf1').selection('source').geom(2);
model.mesh('mesh1').feature('cpf1').selection('destination').geom(2);
model.mesh('mesh1').feature('cpf1').selection('source').set([4 9]);
model.mesh('mesh1').feature('cpf1').selection('destination').set([27 31]);
model.mesh('mesh1').run('cpf1');
model.mesh('mesh1').create('swe1', 'Sweep');
model.mesh('mesh1').feature('swe1').create('dis1', 'Distribution');
model.mesh('mesh1').feature('swe1').feature('dis1').set('numelem', 3);
model.mesh('mesh1').run;

model.study('std1').label('Study 1 - Modes');
model.study('std1').setGenPlots(false);
model.study('std1').create('bma', 'BoundaryModeAnalysis');
model.study('std1').feature('bma').set('modeFreq', 'f0');
model.study('std1').feature('bma').set('neigsactive', true);
model.study('std1').feature('bma').set('neigs', 4);
model.study('std1').feature('bma').set('shiftactive', true);
model.study('std1').feature('bma').set('shift', '0.8*kp');
model.study('std1').feature('bma').set('eigwhich', 'lr');

model.sol.create('sol1');
model.sol('sol1').study('std1');
model.sol('sol1').create('st1', 'StudyStep');
model.sol('sol1').feature('st1').set('study', 'std1');
model.sol('sol1').feature('st1').set('studystep', 'bma');
model.sol('sol1').create('v1', 'Variables');
model.sol('sol1').feature('v1').set('control', 'bma');
model.sol('sol1').create('e1', 'Eigenvalue');
model.sol('sol1').feature('e1').set('control', 'bma');
model.sol('sol1').feature('e1').feature('aDef').set('cachepattern', true);
model.sol('sol1').attach('std1');
model.sol('sol1').runAll;

model.result.create('pg1', 'PlotGroup3D');
model.result('pg1').set('data', 'dset1');
model.result('pg1').setIndex('looplevel', 1, 0);
model.result('pg1').set('defaultPlotID', 'modeShape');
model.result('pg1').label('Mode Shape (solid)');
model.result('pg1').set('showlegends', false);
model.result('pg1').create('surf1', 'Surface');
model.result('pg1').feature('surf1').set('expr', {'solid.disp'});
model.result('pg1').feature('surf1').set('threshold', 'manual');
model.result('pg1').feature('surf1').set('thresholdvalue', 0.2);
model.result('pg1').feature('surf1').set('colortable', 'AuroraBorealis');
model.result('pg1').feature('surf1').set('colortabletrans', 'none');
model.result('pg1').feature('surf1').set('colorscalemode', 'linear');
model.result('pg1').feature('surf1').create('def', 'Deform');
model.result('pg1').feature('surf1').feature('def').set('expr', {'u' 'v' 'w'});
model.result('pg1').feature('surf1').feature('def').set('descr', 'Displacement field');
model.result('pg1').label('Mode Shape (solid)');
model.result('pg1').run;
model.result('pg1').create('arws1', 'ArrowSurface');
model.result('pg1').feature('arws1').set('arrowcount', 20);
model.result('pg1').feature('arws1').set('arrowlength', 'logarithmic');
model.result('pg1').feature('arws1').set('color', 'black');
model.result('pg1').feature('arws1').create('sel1', 'Selection');
model.result('pg1').feature('arws1').feature('sel1').selection.set([1]);
model.result('pg1').run;
model.result('pg1').set('edges', false);
model.result('pg1').run;
model.result('pg1').set('looplevel', [2]);
model.result('pg1').run;
model.result('pg1').set('looplevel', [3]);
model.result('pg1').run;
model.result('pg1').set('looplevel', [4]);
model.result('pg1').run;

model.study.create('std2');
model.study('std2').label('Study 2 - Frequency Domain (Port Sweep)');
model.study('std2').setGenPlots(false);
model.study('std2').setGenConv(false);
model.study('std2').create('bma', 'BoundaryModeAnalysis');
model.study('std2').feature('bma').set('modeFreq', 'f0');
model.study('std2').feature('bma').set('neigsactive', true);
model.study('std2').feature('bma').set('shiftactive', true);
model.study('std2').feature('bma').set('shift', '0.9*k_lo');
model.study('std2').feature('bma').set('eigwhich', 'lr');
model.study('std2').feature.duplicate('bma1', 'bma');
model.study('std2').feature('bma1').set('PortName', '2');
model.study('std2').feature.duplicate('bma2', 'bma1');
model.study('std2').feature('bma2').set('PortName', '3');
model.study('std2').feature.duplicate('bma3', 'bma2');
model.study('std2').feature('bma3').set('PortName', '4');
model.study('std2').feature.duplicate('bma4', 'bma3');
model.study('std2').feature('bma4').set('PortName', '5');
model.study('std2').feature('bma4').set('shift', '0.9*k_to');
model.study('std2').feature.duplicate('bma5', 'bma4');
model.study('std2').feature('bma5').set('PortName', '6');
model.study('std2').feature.duplicate('bma6', 'bma5');
model.study('std2').feature('bma6').set('PortName', '7');
model.study('std2').feature.duplicate('bma7', 'bma6');
model.study('std2').feature('bma7').set('PortName', '8');
model.study('std2').feature.duplicate('bma8', 'bma7');
model.study('std2').feature('bma8').set('PortName', '9');
model.study('std2').feature('bma8').set('shift', '0.9*k_tr1');
model.study('std2').feature.duplicate('bma9', 'bma8');
model.study('std2').feature('bma9').set('PortName', '10');
model.study('std2').feature.duplicate('bma10', 'bma9');
model.study('std2').feature('bma10').set('PortName', '11');
model.study('std2').feature.duplicate('bma11', 'bma10');
model.study('std2').feature('bma11').set('PortName', '12');
model.study('std2').feature.duplicate('bma12', 'bma11');
model.study('std2').feature('bma12').set('PortName', '13');
model.study('std2').feature('bma12').set('shift', '0.9*k_tr2');
model.study('std2').feature.duplicate('bma13', 'bma12');
model.study('std2').feature('bma13').set('PortName', '14');
model.study('std2').feature.duplicate('bma14', 'bma13');
model.study('std2').feature('bma14').set('PortName', '15');
model.study('std2').feature.duplicate('bma15', 'bma14');
model.study('std2').feature('bma15').set('PortName', '16');
model.study('std2').create('freq', 'Frequency');
model.study('std2').feature('freq').set('plist', 'f0');

model.physics('solid').prop('PortSweepSettings').set('PortSweep', 'StandardSweep');

model.param.set('PortName', '1');
model.param.descr('PortName', 'Port name parameter');

model.study('std2').create('param', 'Parametric');
model.study('std2').feature('param').setIndex('pname', 'f0', 0);
model.study('std2').feature('param').setIndex('plistarr', '', 0);
model.study('std2').feature('param').setIndex('punit', 'Hz', 0);
model.study('std2').feature('param').setIndex('pname', 'f0', 0);
model.study('std2').feature('param').setIndex('plistarr', '', 0);
model.study('std2').feature('param').setIndex('punit', 'Hz', 0);
model.study('std2').feature('param').setIndex('pname', 'PortName', 0);
model.study('std2').feature('param').setIndex('plistarr', '1, 5, 9, 13', 0);
model.study('std2').feature('param').setIndex('punit', '', 0);

model.sol.create('sol2');
model.sol('sol2').study('std2');
model.sol('sol2').create('st1', 'StudyStep');
model.sol('sol2').feature('st1').set('study', 'std2');
model.sol('sol2').feature('st1').set('studystep', 'bma');
model.sol('sol2').create('v1', 'Variables');
model.sol('sol2').feature('v1').set('control', 'bma');
model.sol('sol2').create('e1', 'Eigenvalue');
model.sol('sol2').feature('e1').set('control', 'bma');
model.sol('sol2').feature('e1').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su1', 'StoreSolution');
model.sol('sol2').create('st2', 'StudyStep');
model.sol('sol2').feature('st2').set('study', 'std2');
model.sol('sol2').feature('st2').set('studystep', 'bma1');
model.sol('sol2').create('v2', 'Variables');
model.sol('sol2').feature('v2').set('initmethod', 'sol');
model.sol('sol2').feature('v2').set('initsol', 'sol2');
model.sol('sol2').feature('v2').set('notsolmethod', 'sol');
model.sol('sol2').feature('v2').set('notsol', 'sol2');
model.sol('sol2').feature('v2').set('control', 'bma1');
model.sol('sol2').create('e2', 'Eigenvalue');
model.sol('sol2').feature('e2').set('control', 'bma1');
model.sol('sol2').feature('e2').set('linpmethod', 'sol');
model.sol('sol2').feature('e2').set('linpsol', 'sol2');
model.sol('sol2').feature('e2').set('control', 'bma1');
model.sol('sol2').feature('e2').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su2', 'StoreSolution');
model.sol('sol2').create('st3', 'StudyStep');
model.sol('sol2').feature('st3').set('study', 'std2');
model.sol('sol2').feature('st3').set('studystep', 'bma2');
model.sol('sol2').create('v3', 'Variables');
model.sol('sol2').feature('v3').set('initmethod', 'sol');
model.sol('sol2').feature('v3').set('initsol', 'sol2');
model.sol('sol2').feature('v3').set('notsolmethod', 'sol');
model.sol('sol2').feature('v3').set('notsol', 'sol2');
model.sol('sol2').feature('v3').set('control', 'bma2');
model.sol('sol2').create('e3', 'Eigenvalue');
model.sol('sol2').feature('e3').set('control', 'bma2');
model.sol('sol2').feature('e3').set('linpmethod', 'sol');
model.sol('sol2').feature('e3').set('linpsol', 'sol2');
model.sol('sol2').feature('e3').set('control', 'bma2');
model.sol('sol2').feature('e3').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su3', 'StoreSolution');
model.sol('sol2').create('st4', 'StudyStep');
model.sol('sol2').feature('st4').set('study', 'std2');
model.sol('sol2').feature('st4').set('studystep', 'bma3');
model.sol('sol2').create('v4', 'Variables');
model.sol('sol2').feature('v4').set('initmethod', 'sol');
model.sol('sol2').feature('v4').set('initsol', 'sol2');
model.sol('sol2').feature('v4').set('notsolmethod', 'sol');
model.sol('sol2').feature('v4').set('notsol', 'sol2');
model.sol('sol2').feature('v4').set('control', 'bma3');
model.sol('sol2').create('e4', 'Eigenvalue');
model.sol('sol2').feature('e4').set('control', 'bma3');
model.sol('sol2').feature('e4').set('linpmethod', 'sol');
model.sol('sol2').feature('e4').set('linpsol', 'sol2');
model.sol('sol2').feature('e4').set('control', 'bma3');
model.sol('sol2').feature('e4').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su4', 'StoreSolution');
model.sol('sol2').create('st5', 'StudyStep');
model.sol('sol2').feature('st5').set('study', 'std2');
model.sol('sol2').feature('st5').set('studystep', 'bma4');
model.sol('sol2').create('v5', 'Variables');
model.sol('sol2').feature('v5').set('initmethod', 'sol');
model.sol('sol2').feature('v5').set('initsol', 'sol2');
model.sol('sol2').feature('v5').set('notsolmethod', 'sol');
model.sol('sol2').feature('v5').set('notsol', 'sol2');
model.sol('sol2').feature('v5').set('control', 'bma4');
model.sol('sol2').create('e5', 'Eigenvalue');
model.sol('sol2').feature('e5').set('control', 'bma4');
model.sol('sol2').feature('e5').set('linpmethod', 'sol');
model.sol('sol2').feature('e5').set('linpsol', 'sol2');
model.sol('sol2').feature('e5').set('control', 'bma4');
model.sol('sol2').feature('e5').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su5', 'StoreSolution');
model.sol('sol2').create('st6', 'StudyStep');
model.sol('sol2').feature('st6').set('study', 'std2');
model.sol('sol2').feature('st6').set('studystep', 'bma5');
model.sol('sol2').create('v6', 'Variables');
model.sol('sol2').feature('v6').set('initmethod', 'sol');
model.sol('sol2').feature('v6').set('initsol', 'sol2');
model.sol('sol2').feature('v6').set('notsolmethod', 'sol');
model.sol('sol2').feature('v6').set('notsol', 'sol2');
model.sol('sol2').feature('v6').set('control', 'bma5');
model.sol('sol2').create('e6', 'Eigenvalue');
model.sol('sol2').feature('e6').set('control', 'bma5');
model.sol('sol2').feature('e6').set('linpmethod', 'sol');
model.sol('sol2').feature('e6').set('linpsol', 'sol2');
model.sol('sol2').feature('e6').set('control', 'bma5');
model.sol('sol2').feature('e6').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su6', 'StoreSolution');
model.sol('sol2').create('st7', 'StudyStep');
model.sol('sol2').feature('st7').set('study', 'std2');
model.sol('sol2').feature('st7').set('studystep', 'bma6');
model.sol('sol2').create('v7', 'Variables');
model.sol('sol2').feature('v7').set('initmethod', 'sol');
model.sol('sol2').feature('v7').set('initsol', 'sol2');
model.sol('sol2').feature('v7').set('notsolmethod', 'sol');
model.sol('sol2').feature('v7').set('notsol', 'sol2');
model.sol('sol2').feature('v7').set('control', 'bma6');
model.sol('sol2').create('e7', 'Eigenvalue');
model.sol('sol2').feature('e7').set('control', 'bma6');
model.sol('sol2').feature('e7').set('linpmethod', 'sol');
model.sol('sol2').feature('e7').set('linpsol', 'sol2');
model.sol('sol2').feature('e7').set('control', 'bma6');
model.sol('sol2').feature('e7').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su7', 'StoreSolution');
model.sol('sol2').create('st8', 'StudyStep');
model.sol('sol2').feature('st8').set('study', 'std2');
model.sol('sol2').feature('st8').set('studystep', 'bma7');
model.sol('sol2').create('v8', 'Variables');
model.sol('sol2').feature('v8').set('initmethod', 'sol');
model.sol('sol2').feature('v8').set('initsol', 'sol2');
model.sol('sol2').feature('v8').set('notsolmethod', 'sol');
model.sol('sol2').feature('v8').set('notsol', 'sol2');
model.sol('sol2').feature('v8').set('control', 'bma7');
model.sol('sol2').create('e8', 'Eigenvalue');
model.sol('sol2').feature('e8').set('control', 'bma7');
model.sol('sol2').feature('e8').set('linpmethod', 'sol');
model.sol('sol2').feature('e8').set('linpsol', 'sol2');
model.sol('sol2').feature('e8').set('control', 'bma7');
model.sol('sol2').feature('e8').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su8', 'StoreSolution');
model.sol('sol2').create('st9', 'StudyStep');
model.sol('sol2').feature('st9').set('study', 'std2');
model.sol('sol2').feature('st9').set('studystep', 'bma8');
model.sol('sol2').create('v9', 'Variables');
model.sol('sol2').feature('v9').set('initmethod', 'sol');
model.sol('sol2').feature('v9').set('initsol', 'sol2');
model.sol('sol2').feature('v9').set('notsolmethod', 'sol');
model.sol('sol2').feature('v9').set('notsol', 'sol2');
model.sol('sol2').feature('v9').set('control', 'bma8');
model.sol('sol2').create('e9', 'Eigenvalue');
model.sol('sol2').feature('e9').set('control', 'bma8');
model.sol('sol2').feature('e9').set('linpmethod', 'sol');
model.sol('sol2').feature('e9').set('linpsol', 'sol2');
model.sol('sol2').feature('e9').set('control', 'bma8');
model.sol('sol2').feature('e9').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su9', 'StoreSolution');
model.sol('sol2').create('st10', 'StudyStep');
model.sol('sol2').feature('st10').set('study', 'std2');
model.sol('sol2').feature('st10').set('studystep', 'bma9');
model.sol('sol2').create('v10', 'Variables');
model.sol('sol2').feature('v10').set('initmethod', 'sol');
model.sol('sol2').feature('v10').set('initsol', 'sol2');
model.sol('sol2').feature('v10').set('notsolmethod', 'sol');
model.sol('sol2').feature('v10').set('notsol', 'sol2');
model.sol('sol2').feature('v10').set('control', 'bma9');
model.sol('sol2').create('e10', 'Eigenvalue');
model.sol('sol2').feature('e10').set('control', 'bma9');
model.sol('sol2').feature('e10').set('linpmethod', 'sol');
model.sol('sol2').feature('e10').set('linpsol', 'sol2');
model.sol('sol2').feature('e10').set('control', 'bma9');
model.sol('sol2').feature('e10').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su10', 'StoreSolution');
model.sol('sol2').create('st11', 'StudyStep');
model.sol('sol2').feature('st11').set('study', 'std2');
model.sol('sol2').feature('st11').set('studystep', 'bma10');
model.sol('sol2').create('v11', 'Variables');
model.sol('sol2').feature('v11').set('initmethod', 'sol');
model.sol('sol2').feature('v11').set('initsol', 'sol2');
model.sol('sol2').feature('v11').set('notsolmethod', 'sol');
model.sol('sol2').feature('v11').set('notsol', 'sol2');
model.sol('sol2').feature('v11').set('control', 'bma10');
model.sol('sol2').create('e11', 'Eigenvalue');
model.sol('sol2').feature('e11').set('control', 'bma10');
model.sol('sol2').feature('e11').set('linpmethod', 'sol');
model.sol('sol2').feature('e11').set('linpsol', 'sol2');
model.sol('sol2').feature('e11').set('control', 'bma10');
model.sol('sol2').feature('e11').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su11', 'StoreSolution');
model.sol('sol2').create('st12', 'StudyStep');
model.sol('sol2').feature('st12').set('study', 'std2');
model.sol('sol2').feature('st12').set('studystep', 'bma11');
model.sol('sol2').create('v12', 'Variables');
model.sol('sol2').feature('v12').set('initmethod', 'sol');
model.sol('sol2').feature('v12').set('initsol', 'sol2');
model.sol('sol2').feature('v12').set('notsolmethod', 'sol');
model.sol('sol2').feature('v12').set('notsol', 'sol2');
model.sol('sol2').feature('v12').set('control', 'bma11');
model.sol('sol2').create('e12', 'Eigenvalue');
model.sol('sol2').feature('e12').set('control', 'bma11');
model.sol('sol2').feature('e12').set('linpmethod', 'sol');
model.sol('sol2').feature('e12').set('linpsol', 'sol2');
model.sol('sol2').feature('e12').set('control', 'bma11');
model.sol('sol2').feature('e12').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su12', 'StoreSolution');
model.sol('sol2').create('st13', 'StudyStep');
model.sol('sol2').feature('st13').set('study', 'std2');
model.sol('sol2').feature('st13').set('studystep', 'bma12');
model.sol('sol2').create('v13', 'Variables');
model.sol('sol2').feature('v13').set('initmethod', 'sol');
model.sol('sol2').feature('v13').set('initsol', 'sol2');
model.sol('sol2').feature('v13').set('notsolmethod', 'sol');
model.sol('sol2').feature('v13').set('notsol', 'sol2');
model.sol('sol2').feature('v13').set('control', 'bma12');
model.sol('sol2').create('e13', 'Eigenvalue');
model.sol('sol2').feature('e13').set('control', 'bma12');
model.sol('sol2').feature('e13').set('linpmethod', 'sol');
model.sol('sol2').feature('e13').set('linpsol', 'sol2');
model.sol('sol2').feature('e13').set('control', 'bma12');
model.sol('sol2').feature('e13').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su13', 'StoreSolution');
model.sol('sol2').create('st14', 'StudyStep');
model.sol('sol2').feature('st14').set('study', 'std2');
model.sol('sol2').feature('st14').set('studystep', 'bma13');
model.sol('sol2').create('v14', 'Variables');
model.sol('sol2').feature('v14').set('initmethod', 'sol');
model.sol('sol2').feature('v14').set('initsol', 'sol2');
model.sol('sol2').feature('v14').set('notsolmethod', 'sol');
model.sol('sol2').feature('v14').set('notsol', 'sol2');
model.sol('sol2').feature('v14').set('control', 'bma13');
model.sol('sol2').create('e14', 'Eigenvalue');
model.sol('sol2').feature('e14').set('control', 'bma13');
model.sol('sol2').feature('e14').set('linpmethod', 'sol');
model.sol('sol2').feature('e14').set('linpsol', 'sol2');
model.sol('sol2').feature('e14').set('control', 'bma13');
model.sol('sol2').feature('e14').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su14', 'StoreSolution');
model.sol('sol2').create('st15', 'StudyStep');
model.sol('sol2').feature('st15').set('study', 'std2');
model.sol('sol2').feature('st15').set('studystep', 'bma14');
model.sol('sol2').create('v15', 'Variables');
model.sol('sol2').feature('v15').set('initmethod', 'sol');
model.sol('sol2').feature('v15').set('initsol', 'sol2');
model.sol('sol2').feature('v15').set('notsolmethod', 'sol');
model.sol('sol2').feature('v15').set('notsol', 'sol2');
model.sol('sol2').feature('v15').set('control', 'bma14');
model.sol('sol2').create('e15', 'Eigenvalue');
model.sol('sol2').feature('e15').set('control', 'bma14');
model.sol('sol2').feature('e15').set('linpmethod', 'sol');
model.sol('sol2').feature('e15').set('linpsol', 'sol2');
model.sol('sol2').feature('e15').set('control', 'bma14');
model.sol('sol2').feature('e15').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su15', 'StoreSolution');
model.sol('sol2').create('st16', 'StudyStep');
model.sol('sol2').feature('st16').set('study', 'std2');
model.sol('sol2').feature('st16').set('studystep', 'bma15');
model.sol('sol2').create('v16', 'Variables');
model.sol('sol2').feature('v16').set('initmethod', 'sol');
model.sol('sol2').feature('v16').set('initsol', 'sol2');
model.sol('sol2').feature('v16').set('notsolmethod', 'sol');
model.sol('sol2').feature('v16').set('notsol', 'sol2');
model.sol('sol2').feature('v16').set('control', 'bma15');
model.sol('sol2').create('e16', 'Eigenvalue');
model.sol('sol2').feature('e16').set('control', 'bma15');
model.sol('sol2').feature('e16').set('linpmethod', 'sol');
model.sol('sol2').feature('e16').set('linpsol', 'sol2');
model.sol('sol2').feature('e16').set('control', 'bma15');
model.sol('sol2').feature('e16').feature('aDef').set('cachepattern', true);
model.sol('sol2').create('su16', 'StoreSolution');
model.sol('sol2').create('st17', 'StudyStep');
model.sol('sol2').feature('st17').set('study', 'std2');
model.sol('sol2').feature('st17').set('studystep', 'freq');
model.sol('sol2').create('v17', 'Variables');
model.sol('sol2').feature('v17').set('initmethod', 'sol');
model.sol('sol2').feature('v17').set('initsol', 'sol2');
model.sol('sol2').feature('v17').set('notsolmethod', 'sol');
model.sol('sol2').feature('v17').set('notsol', 'sol2');
model.sol('sol2').feature('v17').set('control', 'freq');
model.sol('sol2').create('s1', 'Stationary');
model.sol('sol2').feature('s1').create('p1', 'Parametric');
model.sol('sol2').feature('s1').feature.remove('pDef');
model.sol('sol2').feature('s1').feature('p1').set('pname', {'freq'});
model.sol('sol2').feature('s1').feature('p1').set('plistarr', {'f0'});
model.sol('sol2').feature('s1').feature('p1').set('punit', {'Hz'});
model.sol('sol2').feature('s1').feature('p1').set('pcontinuationmode', 'no');
model.sol('sol2').feature('s1').feature('p1').set('preusesol', 'no');
model.sol('sol2').feature('s1').feature('p1').set('pdistrib', 'off');
model.sol('sol2').feature('s1').feature('p1').set('plot', 'off');
model.sol('sol2').feature('s1').feature('p1').set('plotgroup', 'pg1');
model.sol('sol2').feature('s1').feature('p1').set('probesel', 'all');
model.sol('sol2').feature('s1').feature('p1').set('probes', {});
model.sol('sol2').feature('s1').feature('p1').set('control', 'freq');
model.sol('sol2').feature('s1').set('linpmethod', 'sol');
model.sol('sol2').feature('s1').set('linpsol', 'zero');
model.sol('sol2').feature('s1').set('control', 'freq');
model.sol('sol2').feature('s1').feature('aDef').set('cachepattern', true);
model.sol('sol2').feature('s1').create('fc1', 'FullyCoupled');
model.sol('sol2').feature('s1').create('d1', 'Direct');
model.sol('sol2').feature('s1').feature('d1').set('linsolver', 'pardiso');
model.sol('sol2').feature('s1').feature('d1').set('pivotperturb', 1.0E-9);
model.sol('sol2').feature('s1').feature('d1').label('Suggested Direct Solver (solid)');
model.sol('sol2').feature('s1').create('i1', 'Iterative');
model.sol('sol2').feature('s1').feature('i1').set('linsolver', 'gmres');
model.sol('sol2').feature('s1').feature('i1').set('rhob', 400);
model.sol('sol2').feature('s1').feature('i1').set('nlinnormuse', true);
model.sol('sol2').feature('s1').feature('i1').label('Suggested Iterative Solver (solid)');
model.sol('sol2').feature('s1').feature('i1').create('mg1', 'Multigrid');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').set('prefun', 'gmg');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('pr').create('so1', 'SOR');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('pr').feature('so1').set('relax', 0.8);
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('po').create('so1', 'SOR');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('po').feature('so1').set('relax', 0.8);
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('cs').create('d1', 'Direct');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('cs').feature('d1').set('linsolver', 'pardiso');
model.sol('sol2').feature('s1').feature('i1').feature('mg1').feature('cs').feature('d1').set('pivotperturb', 1.0E-9);
model.sol('sol2').feature('s1').feature('fc1').set('linsolver', 'd1');
model.sol('sol2').feature('s1').feature.remove('fcDef');
model.sol('sol2').feature('v17').set('notsolnum', 'auto');
model.sol('sol2').feature('v17').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v17').set('solnum', 'auto');
model.sol('sol2').feature('v17').set('solvertype', 'solnum');
model.sol('sol2').feature('e16').set('linpsolnum', 'auto');
model.sol('sol2').feature('e16').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v16').set('notsolnum', 'auto');
model.sol('sol2').feature('v16').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v16').set('solnum', 'auto');
model.sol('sol2').feature('v16').set('solvertype', 'solnum');
model.sol('sol2').feature('e15').set('linpsolnum', 'auto');
model.sol('sol2').feature('e15').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v15').set('notsolnum', 'auto');
model.sol('sol2').feature('v15').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v15').set('solnum', 'auto');
model.sol('sol2').feature('v15').set('solvertype', 'solnum');
model.sol('sol2').feature('e14').set('linpsolnum', 'auto');
model.sol('sol2').feature('e14').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v14').set('notsolnum', 'auto');
model.sol('sol2').feature('v14').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v14').set('solnum', 'auto');
model.sol('sol2').feature('v14').set('solvertype', 'solnum');
model.sol('sol2').feature('e13').set('linpsolnum', 'auto');
model.sol('sol2').feature('e13').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v13').set('notsolnum', 'auto');
model.sol('sol2').feature('v13').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v13').set('solnum', 'auto');
model.sol('sol2').feature('v13').set('solvertype', 'solnum');
model.sol('sol2').feature('e12').set('linpsolnum', 'auto');
model.sol('sol2').feature('e12').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v12').set('notsolnum', 'auto');
model.sol('sol2').feature('v12').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v12').set('solnum', 'auto');
model.sol('sol2').feature('v12').set('solvertype', 'solnum');
model.sol('sol2').feature('e11').set('linpsolnum', 'auto');
model.sol('sol2').feature('e11').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v11').set('notsolnum', 'auto');
model.sol('sol2').feature('v11').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v11').set('solnum', 'auto');
model.sol('sol2').feature('v11').set('solvertype', 'solnum');
model.sol('sol2').feature('e10').set('linpsolnum', 'auto');
model.sol('sol2').feature('e10').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v10').set('notsolnum', 'auto');
model.sol('sol2').feature('v10').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v10').set('solnum', 'auto');
model.sol('sol2').feature('v10').set('solvertype', 'solnum');
model.sol('sol2').feature('e9').set('linpsolnum', 'auto');
model.sol('sol2').feature('e9').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v9').set('notsolnum', 'auto');
model.sol('sol2').feature('v9').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v9').set('solnum', 'auto');
model.sol('sol2').feature('v9').set('solvertype', 'solnum');
model.sol('sol2').feature('e8').set('linpsolnum', 'auto');
model.sol('sol2').feature('e8').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v8').set('notsolnum', 'auto');
model.sol('sol2').feature('v8').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v8').set('solnum', 'auto');
model.sol('sol2').feature('v8').set('solvertype', 'solnum');
model.sol('sol2').feature('e7').set('linpsolnum', 'auto');
model.sol('sol2').feature('e7').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v7').set('notsolnum', 'auto');
model.sol('sol2').feature('v7').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v7').set('solnum', 'auto');
model.sol('sol2').feature('v7').set('solvertype', 'solnum');
model.sol('sol2').feature('e6').set('linpsolnum', 'auto');
model.sol('sol2').feature('e6').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v6').set('notsolnum', 'auto');
model.sol('sol2').feature('v6').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v6').set('solnum', 'auto');
model.sol('sol2').feature('v6').set('solvertype', 'solnum');
model.sol('sol2').feature('e5').set('linpsolnum', 'auto');
model.sol('sol2').feature('e5').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v5').set('notsolnum', 'auto');
model.sol('sol2').feature('v5').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v5').set('solnum', 'auto');
model.sol('sol2').feature('v5').set('solvertype', 'solnum');
model.sol('sol2').feature('e4').set('linpsolnum', 'auto');
model.sol('sol2').feature('e4').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v4').set('notsolnum', 'auto');
model.sol('sol2').feature('v4').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v4').set('solnum', 'auto');
model.sol('sol2').feature('v4').set('solvertype', 'solnum');
model.sol('sol2').feature('e3').set('linpsolnum', 'auto');
model.sol('sol2').feature('e3').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v3').set('notsolnum', 'auto');
model.sol('sol2').feature('v3').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v3').set('solnum', 'auto');
model.sol('sol2').feature('v3').set('solvertype', 'solnum');
model.sol('sol2').feature('e2').set('linpsolnum', 'auto');
model.sol('sol2').feature('e2').set('linpsolvertype', 'solnum');
model.sol('sol2').feature('v2').set('notsolnum', 'auto');
model.sol('sol2').feature('v2').set('notsolvertype', 'solnum');
model.sol('sol2').feature('v2').set('solnum', 'auto');
model.sol('sol2').feature('v2').set('solvertype', 'solnum');
model.sol('sol2').attach('std2');

model.batch.create('p1', 'Parametric');
model.batch('p1').study('std2');
model.batch('p1').create('so1', 'Solutionseq');
model.batch('p1').feature('so1').set('seq', 'sol2');
model.batch('p1').feature('so1').set('store', 'on');
model.batch('p1').feature('so1').set('clear', 'on');
model.batch('p1').feature('so1').set('psol', 'none');
model.batch('p1').set('pname', {'PortName'});
model.batch('p1').set('plistarr', {'1, 5, 9, 13'});
model.batch('p1').set('sweeptype', 'sparse');
model.batch('p1').set('probesel', 'all');
model.batch('p1').set('probes', {});
model.batch('p1').set('plot', 'off');
model.batch('p1').set('err', 'on');
model.batch('p1').attach('std2');
model.batch('p1').set('control', 'param');

model.sol.create('sol19');
model.sol('sol19').study('std2');
model.sol('sol19').label('Parametric Solutions 1');

model.batch('p1').feature('so1').set('psol', 'sol19');
model.batch('p1').run('compute');

model.result.create('pg2', 'PlotGroup3D');
model.result('pg2').set('data', 'dset19');
model.result('pg2').setIndex('looplevel', 1, 0);
model.result('pg2').setIndex('looplevel', 4, 1);
model.result('pg2').set('defaultPlotID', 'displacement');
model.result('pg2').label('Displacement (solid)');
model.result('pg2').set('frametype', 'spatial');
model.result('pg2').set('showlegends', true);
model.result('pg2').create('vol1', 'Volume');
model.result('pg2').feature('vol1').set('expr', {'solid.disp'});
model.result('pg2').feature('vol1').set('threshold', 'manual');
model.result('pg2').feature('vol1').set('thresholdvalue', 0.2);
model.result('pg2').feature('vol1').set('colortable', 'SpectrumLight');
model.result('pg2').feature('vol1').set('colortabletrans', 'none');
model.result('pg2').feature('vol1').set('colorscalemode', 'linear');
model.result('pg2').feature('vol1').set('resolution', 'custom');
model.result('pg2').feature('vol1').set('refine', 2);
model.result('pg2').feature('vol1').create('def', 'Deform');
model.result('pg2').feature('vol1').feature('def').set('expr', {'u' 'v' 'w'});
model.result('pg2').feature('vol1').feature('def').set('descr', 'Displacement field');
model.result('pg2').label('Displacement (solid)');
model.result('pg2').run;
model.result('pg2').setIndex('looplevel', 1, 1);
model.result('pg2').run;
model.result('pg2').setIndex('looplevel', 2, 1);
model.result('pg2').run;
model.result('pg2').setIndex('looplevel', 3, 1);
model.result('pg2').run;
model.result('pg2').setIndex('looplevel', 4, 1);
model.result('pg2').run;
model.result.create('pg3', 'PlotGroup1D');
model.result('pg3').run;
model.result('pg3').label('abs(S)^2 - Port 1 (Longitudinal) Excited');
model.result('pg3').set('data', 'dset19');
model.result('pg3').setIndex('looplevelinput', 'manual', 1);
model.result('pg3').setIndex('looplevel', [1], 1);
model.result('pg3').set('titletype', 'label');
model.result('pg3').set('xlabelactive', true);
model.result('pg3').set('xlabel', 'inlet/outlet #');
model.result('pg3').set('ylabelactive', true);
model.result('pg3').set('ylabel', '|S|^2');
model.result('pg3').set('ylog', true);
model.result('pg3').set('manualgrid', true);
model.result('pg3').set('legendpos', 'center');
model.result('pg3').create('glob1', 'Global');
model.result('pg3').feature('glob1').set('markerpos', 'datapoints');
model.result('pg3').feature('glob1').set('linewidth', 'preference');
model.result('pg3').feature('glob1').setIndex('expr', 'abs(solid.Smatrix11)^2', 0);
model.result('pg3').feature('glob1').setIndex('unit', 1, 0);
model.result('pg3').feature('glob1').setIndex('descr', '', 0);
model.result('pg3').feature('glob1').setIndex('expr', 'abs(solid.Smatrix51)^2', 1);
model.result('pg3').feature('glob1').setIndex('unit', 1, 1);
model.result('pg3').feature('glob1').setIndex('descr', '', 1);
model.result('pg3').feature('glob1').setIndex('expr', 'abs(solid.Smatrix91)^2', 2);
model.result('pg3').feature('glob1').setIndex('unit', 1, 2);
model.result('pg3').feature('glob1').setIndex('descr', '', 2);
model.result('pg3').feature('glob1').setIndex('expr', 'abs(solid.Smatrix13_1)^2', 3);
model.result('pg3').feature('glob1').setIndex('unit', 1, 3);
model.result('pg3').feature('glob1').setIndex('descr', '', 3);
model.result('pg3').feature('glob1').set('xdata', 'expr');
model.result('pg3').feature('glob1').set('xdataexpr', '1');
model.result('pg3').feature('glob1').set('linestyle', 'none');
model.result('pg3').feature('glob1').set('linemarker', 'circle');
model.result('pg3').run;
model.result('pg3').feature.duplicate('glob2', 'glob1');
model.result('pg3').run;
model.result('pg3').feature('glob2').setIndex('expr', 'abs(solid.Smatrix21)^2', 0);
model.result('pg3').feature('glob2').setIndex('unit', 1, 0);
model.result('pg3').feature('glob2').setIndex('descr', '', 0);
model.result('pg3').feature('glob2').setIndex('expr', 'abs(solid.Smatrix61)^2', 1);
model.result('pg3').feature('glob2').setIndex('unit', 1, 1);
model.result('pg3').feature('glob2').setIndex('descr', '', 1);
model.result('pg3').feature('glob2').setIndex('expr', 'abs(solid.Smatrix10_1)^2', 2);
model.result('pg3').feature('glob2').setIndex('unit', 1, 2);
model.result('pg3').feature('glob2').setIndex('descr', '', 2);
model.result('pg3').feature('glob2').setIndex('expr', 'abs(solid.Smatrix14_1)^2', 3);
model.result('pg3').feature('glob2').setIndex('unit', 1, 3);
model.result('pg3').feature('glob2').setIndex('descr', '', 3);
model.result('pg3').feature('glob2').set('xdataexpr', '2');
model.result('pg3').feature('glob2').set('linecolor', 'cyclereset');
model.result('pg3').run;
model.result('pg3').feature('glob2').set('legend', false);
model.result('pg3').feature.duplicate('glob3', 'glob2');
model.result('pg3').run;
model.result('pg3').feature('glob3').setIndex('expr', 'abs(solid.Smatrix31)^2', 0);
model.result('pg3').feature('glob3').setIndex('unit', 1, 0);
model.result('pg3').feature('glob3').setIndex('descr', '', 0);
model.result('pg3').feature('glob3').setIndex('expr', 'abs(solid.Smatrix71)^2', 1);
model.result('pg3').feature('glob3').setIndex('unit', 1, 1);
model.result('pg3').feature('glob3').setIndex('descr', '', 1);
model.result('pg3').feature('glob3').setIndex('expr', 'abs(solid.Smatrix11_1)^2', 2);
model.result('pg3').feature('glob3').setIndex('unit', 1, 2);
model.result('pg3').feature('glob3').setIndex('descr', '', 2);
model.result('pg3').feature('glob3').setIndex('expr', 'abs(solid.Smatrix15_1)^2', 3);
model.result('pg3').feature('glob3').setIndex('unit', 1, 3);
model.result('pg3').feature('glob3').setIndex('descr', '', 3);
model.result('pg3').feature('glob3').set('xdataexpr', '3');
model.result('pg3').run;
model.result('pg3').feature.duplicate('glob4', 'glob3');
model.result('pg3').run;
model.result('pg3').feature('glob4').setIndex('expr', 'abs(solid.Smatrix41)^2', 0);
model.result('pg3').feature('glob4').setIndex('unit', 1, 0);
model.result('pg3').feature('glob4').setIndex('descr', '', 0);
model.result('pg3').feature('glob4').setIndex('expr', 'abs(solid.Smatrix81)^2', 1);
model.result('pg3').feature('glob4').setIndex('unit', 1, 1);
model.result('pg3').feature('glob4').setIndex('descr', '', 1);
model.result('pg3').feature('glob4').setIndex('expr', 'abs(solid.Smatrix12_1)^2', 2);
model.result('pg3').feature('glob4').setIndex('unit', 1, 2);
model.result('pg3').feature('glob4').setIndex('descr', '', 2);
model.result('pg3').feature('glob4').setIndex('expr', 'abs(solid.Smatrix16_1)^2', 3);
model.result('pg3').feature('glob4').setIndex('unit', 1, 3);
model.result('pg3').feature('glob4').setIndex('descr', '', 3);
model.result('pg3').feature('glob4').set('xdataexpr', '4');
model.result('pg3').run;
model.result('pg3').run;
model.result('pg3').feature('glob1').set('legendmethod', 'manual');
model.result('pg3').feature('glob1').setIndex('legends', 'Longitudinal', 0);
model.result('pg3').feature('glob1').setIndex('legends', 'Torsional', 1);
model.result('pg3').feature('glob1').setIndex('legends', 'Transverse 1', 2);
model.result('pg3').feature('glob1').setIndex('legends', 'Transverse 2', 3);
model.result('pg3').run;
model.result('pg3').run;
model.result.duplicate('pg4', 'pg3');
model.result('pg4').run;
model.result('pg4').label('abs(S)^2 - Port 5 (Torsional) Excited');
model.result('pg4').setIndex('looplevel', [2], 1);
model.result('pg4').run;
model.result('pg4').feature('glob1').setIndex('expr', 'abs(solid.Smatrix15)^2', 0);
model.result('pg4').feature('glob1').setIndex('unit', 1, 0);
model.result('pg4').feature('glob1').setIndex('descr', '', 0);
model.result('pg4').feature('glob1').setIndex('expr', 'abs(solid.Smatrix55)^2', 1);
model.result('pg4').feature('glob1').setIndex('unit', 1, 1);
model.result('pg4').feature('glob1').setIndex('descr', '', 1);
model.result('pg4').feature('glob1').setIndex('expr', 'abs(solid.Smatrix95)^2', 2);
model.result('pg4').feature('glob1').setIndex('unit', 1, 2);
model.result('pg4').feature('glob1').setIndex('descr', '', 2);
model.result('pg4').feature('glob1').setIndex('expr', 'abs(solid.Smatrix13_5)^2', 3);
model.result('pg4').feature('glob1').setIndex('unit', 1, 3);
model.result('pg4').feature('glob1').setIndex('descr', '', 3);
model.result('pg4').run;
model.result('pg4').feature('glob2').setIndex('expr', 'abs(solid.Smatrix25)^2', 0);
model.result('pg4').feature('glob2').setIndex('unit', 1, 0);
model.result('pg4').feature('glob2').setIndex('descr', '', 0);
model.result('pg4').feature('glob2').setIndex('expr', 'abs(solid.Smatrix65)^2', 1);
model.result('pg4').feature('glob2').setIndex('unit', 1, 1);
model.result('pg4').feature('glob2').setIndex('descr', '', 1);
model.result('pg4').feature('glob2').setIndex('expr', 'abs(solid.Smatrix10_5)^2', 2);
model.result('pg4').feature('glob2').setIndex('unit', 1, 2);
model.result('pg4').feature('glob2').setIndex('descr', '', 2);
model.result('pg4').feature('glob2').setIndex('expr', 'abs(solid.Smatrix14_5)^2', 3);
model.result('pg4').feature('glob2').setIndex('unit', 1, 3);
model.result('pg4').feature('glob2').setIndex('descr', '', 3);
model.result('pg4').run;
model.result('pg4').feature('glob3').setIndex('expr', 'abs(solid.Smatrix35)^2', 0);
model.result('pg4').feature('glob3').setIndex('unit', 1, 0);
model.result('pg4').feature('glob3').setIndex('descr', '', 0);
model.result('pg4').feature('glob3').setIndex('expr', 'abs(solid.Smatrix75)^2', 1);
model.result('pg4').feature('glob3').setIndex('unit', 1, 1);
model.result('pg4').feature('glob3').setIndex('descr', '', 1);
model.result('pg4').feature('glob3').setIndex('expr', 'abs(solid.Smatrix11_5)^2', 2);
model.result('pg4').feature('glob3').setIndex('unit', 1, 2);
model.result('pg4').feature('glob3').setIndex('descr', '', 2);
model.result('pg4').feature('glob3').setIndex('expr', 'abs(solid.Smatrix15_5)^2', 3);
model.result('pg4').feature('glob3').setIndex('unit', 1, 3);
model.result('pg4').feature('glob3').setIndex('descr', '', 3);
model.result('pg4').run;
model.result('pg4').feature('glob4').setIndex('expr', 'abs(solid.Smatrix45)^2', 0);
model.result('pg4').feature('glob4').setIndex('unit', 1, 0);
model.result('pg4').feature('glob4').setIndex('descr', '', 0);
model.result('pg4').feature('glob4').setIndex('expr', 'abs(solid.Smatrix85)^2', 1);
model.result('pg4').feature('glob4').setIndex('unit', 1, 1);
model.result('pg4').feature('glob4').setIndex('descr', '', 1);
model.result('pg4').feature('glob4').setIndex('expr', 'abs(solid.Smatrix12_5)^2', 2);
model.result('pg4').feature('glob4').setIndex('unit', 1, 2);
model.result('pg4').feature('glob4').setIndex('descr', '', 2);
model.result('pg4').feature('glob4').setIndex('expr', 'abs(solid.Smatrix16_5)^2', 3);
model.result('pg4').feature('glob4').setIndex('unit', 1, 3);
model.result('pg4').feature('glob4').setIndex('descr', '', 3);
model.result('pg4').run;
model.result('pg4').run;
model.result.duplicate('pg5', 'pg4');
model.result('pg5').run;
model.result('pg5').label('abs(S)^2 - Port 9 (Transverse 1) Excited');
model.result('pg5').setIndex('looplevel', [3], 1);
model.result('pg5').run;
model.result('pg5').feature('glob1').setIndex('expr', 'abs(solid.Smatrix19)^2', 0);
model.result('pg5').feature('glob1').setIndex('unit', 1, 0);
model.result('pg5').feature('glob1').setIndex('descr', '', 0);
model.result('pg5').feature('glob1').setIndex('expr', 'abs(solid.Smatrix59)^2', 1);
model.result('pg5').feature('glob1').setIndex('unit', 1, 1);
model.result('pg5').feature('glob1').setIndex('descr', '', 1);
model.result('pg5').feature('glob1').setIndex('expr', 'abs(solid.Smatrix99)^2', 2);
model.result('pg5').feature('glob1').setIndex('unit', 1, 2);
model.result('pg5').feature('glob1').setIndex('descr', '', 2);
model.result('pg5').feature('glob1').setIndex('expr', 'abs(solid.Smatrix13_9)^2', 3);
model.result('pg5').feature('glob1').setIndex('unit', 1, 3);
model.result('pg5').feature('glob1').setIndex('descr', '', 3);
model.result('pg5').run;
model.result('pg5').feature('glob2').setIndex('expr', 'abs(solid.Smatrix29)^2', 0);
model.result('pg5').feature('glob2').setIndex('unit', 1, 0);
model.result('pg5').feature('glob2').setIndex('descr', '', 0);
model.result('pg5').feature('glob2').setIndex('expr', 'abs(solid.Smatrix69)^2', 1);
model.result('pg5').feature('glob2').setIndex('unit', 1, 1);
model.result('pg5').feature('glob2').setIndex('descr', '', 1);
model.result('pg5').feature('glob2').setIndex('expr', 'abs(solid.Smatrix10_9)^2', 2);
model.result('pg5').feature('glob2').setIndex('unit', 1, 2);
model.result('pg5').feature('glob2').setIndex('descr', '', 2);
model.result('pg5').feature('glob2').setIndex('expr', 'abs(solid.Smatrix14_9)^2', 3);
model.result('pg5').feature('glob2').setIndex('unit', 1, 3);
model.result('pg5').feature('glob2').setIndex('descr', '', 3);
model.result('pg5').run;
model.result('pg5').feature('glob3').setIndex('expr', 'abs(solid.Smatrix39)^2', 0);
model.result('pg5').feature('glob3').setIndex('unit', 1, 0);
model.result('pg5').feature('glob3').setIndex('descr', '', 0);
model.result('pg5').feature('glob3').setIndex('expr', 'abs(solid.Smatrix79)^2', 1);
model.result('pg5').feature('glob3').setIndex('unit', 1, 1);
model.result('pg5').feature('glob3').setIndex('descr', '', 1);
model.result('pg5').feature('glob3').setIndex('expr', 'abs(solid.Smatrix11_9)^2', 2);
model.result('pg5').feature('glob3').setIndex('unit', 1, 2);
model.result('pg5').feature('glob3').setIndex('descr', '', 2);
model.result('pg5').feature('glob3').setIndex('expr', 'abs(solid.Smatrix15_9)^2', 3);
model.result('pg5').feature('glob3').setIndex('unit', 1, 3);
model.result('pg5').feature('glob3').setIndex('descr', '', 3);
model.result('pg5').run;
model.result('pg5').feature('glob4').setIndex('expr', 'abs(solid.Smatrix49)^2', 0);
model.result('pg5').feature('glob4').setIndex('unit', 1, 0);
model.result('pg5').feature('glob4').setIndex('descr', '', 0);
model.result('pg5').feature('glob4').setIndex('expr', 'abs(solid.Smatrix89)^2', 1);
model.result('pg5').feature('glob4').setIndex('unit', 1, 1);
model.result('pg5').feature('glob4').setIndex('descr', '', 1);
model.result('pg5').feature('glob4').setIndex('expr', 'abs(solid.Smatrix12_9)^2', 2);
model.result('pg5').feature('glob4').setIndex('unit', 1, 2);
model.result('pg5').feature('glob4').setIndex('descr', '', 2);
model.result('pg5').feature('glob4').setIndex('expr', 'abs(solid.Smatrix16_9)^2', 3);
model.result('pg5').feature('glob4').setIndex('unit', 1, 3);
model.result('pg5').feature('glob4').setIndex('descr', '', 3);
model.result('pg5').run;
model.result('pg5').run;
model.result.duplicate('pg6', 'pg5');
model.result('pg6').run;
model.result('pg6').label('abs(S)^2 - Port 13 (Transverse 2) Excited');
model.result('pg6').setIndex('looplevel', [4], 1);
model.result('pg6').run;
model.result('pg6').feature('glob1').setIndex('expr', 'abs(solid.Smatrix1_13)^2', 0);
model.result('pg6').feature('glob1').setIndex('unit', 1, 0);
model.result('pg6').feature('glob1').setIndex('descr', '', 0);
model.result('pg6').feature('glob1').setIndex('expr', 'abs(solid.Smatrix5_13)^2', 1);
model.result('pg6').feature('glob1').setIndex('unit', 1, 1);
model.result('pg6').feature('glob1').setIndex('descr', '', 1);
model.result('pg6').feature('glob1').setIndex('expr', 'abs(solid.Smatrix9_13)^2', 2);
model.result('pg6').feature('glob1').setIndex('unit', 1, 2);
model.result('pg6').feature('glob1').setIndex('descr', '', 2);
model.result('pg6').feature('glob1').setIndex('expr', 'abs(solid.Smatrix13_13)^2', 3);
model.result('pg6').feature('glob1').setIndex('unit', 1, 3);
model.result('pg6').feature('glob1').setIndex('descr', '', 3);
model.result('pg6').run;
model.result('pg6').feature('glob2').setIndex('expr', 'abs(solid.Smatrix2_13)^2', 0);
model.result('pg6').feature('glob2').setIndex('unit', 1, 0);
model.result('pg6').feature('glob2').setIndex('descr', '', 0);
model.result('pg6').feature('glob2').setIndex('expr', 'abs(solid.Smatrix6_13)^2', 1);
model.result('pg6').feature('glob2').setIndex('unit', 1, 1);
model.result('pg6').feature('glob2').setIndex('descr', '', 1);
model.result('pg6').feature('glob2').setIndex('expr', 'abs(solid.Smatrix10_13)^2', 2);
model.result('pg6').feature('glob2').setIndex('unit', 1, 2);
model.result('pg6').feature('glob2').setIndex('descr', '', 2);
model.result('pg6').feature('glob2').setIndex('expr', 'abs(solid.Smatrix14_13)^2', 3);
model.result('pg6').feature('glob2').setIndex('unit', 1, 3);
model.result('pg6').feature('glob2').setIndex('descr', '', 3);
model.result('pg6').run;
model.result('pg6').feature('glob3').setIndex('expr', 'abs(solid.Smatrix3_13)^2', 0);
model.result('pg6').feature('glob3').setIndex('unit', 1, 0);
model.result('pg6').feature('glob3').setIndex('descr', '', 0);
model.result('pg6').feature('glob3').setIndex('expr', 'abs(solid.Smatrix7_13)^2', 1);
model.result('pg6').feature('glob3').setIndex('unit', 1, 1);
model.result('pg6').feature('glob3').setIndex('descr', '', 1);
model.result('pg6').feature('glob3').setIndex('expr', 'abs(solid.Smatrix11_13)^2', 2);
model.result('pg6').feature('glob3').setIndex('unit', 1, 2);
model.result('pg6').feature('glob3').setIndex('descr', '', 2);
model.result('pg6').feature('glob3').setIndex('expr', 'abs(solid.Smatrix15_13)^2', 3);
model.result('pg6').feature('glob3').setIndex('unit', 1, 3);
model.result('pg6').feature('glob3').setIndex('descr', '', 3);
model.result('pg6').run;
model.result('pg6').feature('glob4').setIndex('expr', 'abs(solid.Smatrix4_13)^2', 0);
model.result('pg6').feature('glob4').setIndex('unit', 1, 0);
model.result('pg6').feature('glob4').setIndex('descr', '', 0);
model.result('pg6').feature('glob4').setIndex('expr', 'abs(solid.Smatrix8_13)^2', 1);
model.result('pg6').feature('glob4').setIndex('unit', 1, 1);
model.result('pg6').feature('glob4').setIndex('descr', '', 1);
model.result('pg6').feature('glob4').setIndex('expr', 'abs(solid.Smatrix12_13)^2', 2);
model.result('pg6').feature('glob4').setIndex('unit', 1, 2);
model.result('pg6').feature('glob4').setIndex('descr', '', 2);
model.result('pg6').feature('glob4').setIndex('expr', 'abs(solid.Smatrix16_13)^2', 3);
model.result('pg6').feature('glob4').setIndex('unit', 1, 3);
model.result('pg6').feature('glob4').setIndex('descr', '', 3);
model.result('pg6').run;
model.result('pg2').run;

model.title('Mechanical Multiport System: Elastic Wave Propagation in a Small Aluminum Plate');

model.description('In this tutorial, the vibrational behavior of a small aluminum plate with four waveguide structures is analyzed. This is an example of a structural component located in a device where elastic waves are propagating, like a smart speaker, an electric motor, or a MEMS device. The plate can be thought of as a mechanical multiport system. The model uses the port boundary condition at the inlet/outlet of the waveguide structures. The port conditions consistently capture and treat the different propagating elastic modes like longitudinal, transverse, and torsional waves. The transmission and reflection of the various modes is characterized through the scattering matrix of the system, which is computed automatically. This allows the vibrational behavior of the component to be characterized in great detail, for example, for subsequent use in a system simulation.');

model.mesh.clearMeshes;

model.sol('sol1').clearSolutionData;
model.sol('sol2').clearSolutionData;
model.sol('sol3').clearSolutionData;
model.sol('sol4').clearSolutionData;
model.sol('sol5').clearSolutionData;
model.sol('sol6').clearSolutionData;
model.sol('sol7').clearSolutionData;
model.sol('sol8').clearSolutionData;
model.sol('sol9').clearSolutionData;
model.sol('sol10').clearSolutionData;
model.sol('sol11').clearSolutionData;
model.sol('sol12').clearSolutionData;
model.sol('sol13').clearSolutionData;
model.sol('sol14').clearSolutionData;
model.sol('sol15').clearSolutionData;
model.sol('sol16').clearSolutionData;
model.sol('sol17').clearSolutionData;
model.sol('sol18').clearSolutionData;
model.sol('sol19').clearSolutionData;
model.sol('sol20').clearSolutionData;
model.sol('sol21').clearSolutionData;
model.sol('sol22').clearSolutionData;
model.sol('sol23').clearSolutionData;

model.label('mechanical_multiport_system.mph');

model.modelNode.label('Components');

out = model;
