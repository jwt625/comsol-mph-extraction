function out = model
%
% eeprom.m
%
% Model exported on May 26 2025, 21:33 by COMSOL 6.2.0.339.

import com.comsol.model.*
import com.comsol.model.util.*

model = ModelUtil.create('Model');

model.modelPath('/Applications/COMSOL62/Multiphysics/applications/Semiconductor_Module/Transistors');

model.modelNode.create('comp1', true);

model.geom.create('geom1', 2);
model.geom('geom1').model('comp1');

model.mesh.create('mesh1', 'geom1');

model.physics.create('semi', 'Semiconductor', 'geom1');
model.physics('semi').model('comp1');

model.study.create('std1');
model.study('std1').create('stat', 'Stationary');
model.study('std1').feature('stat').setSolveFor('/physics/semi', true);

model.geom('geom1').insertFile('eeprom_geom_sequence.mph', 'geom1');
model.geom('geom1').run('pt1');
model.geom('geom1').create('ls1', 'LineSegment');
model.geom('geom1').feature('ls1').set('specify1', 'coord');
model.geom('geom1').feature('ls1').set('coord1', [0.05 -0.01]);
model.geom('geom1').feature('ls1').set('specify2', 'coord');
model.geom('geom1').feature('ls1').set('coord2', [0.85 -0.01]);
model.geom('geom1').runPre('fin');
model.geom('geom1').run('fin');
model.geom('geom1').create('mce1', 'MeshControlEdges');
model.geom('geom1').feature('mce1').selection('input').set('fin', [18 22]);
model.geom('geom1').run;

model.material.create('mat1', 'Common', 'comp1');
model.material('mat1').propertyGroup.create('AroraMobilityModel', 'Arora mobility model');
model.material('mat1').propertyGroup.create('PowerLawMobilityModel', 'Power law mobility model');
model.material('mat1').propertyGroup.create('Auger', 'Auger recombination');
model.material('mat1').propertyGroup.create('Direct', 'Direct recombination');
model.material('mat1').propertyGroup.create('SRH', ['Shockley' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Read' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Hall recombination']);
model.material('mat1').propertyGroup.create('FletcherMobilityModel', 'Fletcher mobility model');
model.material('mat1').propertyGroup.create('CaugheyThomasMobilityModel', ['Caughey' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Thomas mobility model']);
model.material('mat1').propertyGroup.create('SemicondMaterial', 'Semiconductor material');
model.material('mat1').propertyGroup.create('LombardiSurfaceMobilityModel', 'Lombardi surface mobility model');
model.material('mat1').propertyGroup.create('ImpactIonization', 'Impact ionization');
model.material('mat1').propertyGroup.create('SlotboomModel', 'Slotboom model');
model.material('mat1').propertyGroup.create('JainRoulstonModel', ['Jain' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Roulston model']);
model.material('mat1').propertyGroup.create('KlaassenUnifiedMobilityModel', 'Klaassen unified mobility model');
model.material('mat1').label('Si - Silicon');
model.material('mat1').propertyGroup('def').set('relpermittivity', {'11.7' '0' '0' '0' '11.7' '0' '0' '0' '11.7'});
model.material('mat1').propertyGroup('def').set('thermalconductivity', {'131[W/(m*K)]' '0' '0' '0' '131[W/(m*K)]' '0' '0' '0' '131[W/(m*K)]'});
model.material('mat1').propertyGroup('def').set('density', '2329[kg/m^3]');
model.material('mat1').propertyGroup('def').set('heatcapacity', '700[J/(kg*K)]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('mun0_ref_arora', '1252[cm^2/(V*s)]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('mup0_ref_arora', '407[cm^2/(V*s)]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('mun_min_ref_arora', '88[cm^2/(V*s)]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('mup_min_ref_arora', '54.3[cm^2/(V*s)]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('Nn0_ref_arora', '1.26e17[1/cm^3]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('Np0_ref_arora', '2.35e17[1/cm^3]');
model.material('mat1').propertyGroup('AroraMobilityModel').set('alpha0_arora', '0.88');
model.material('mat1').propertyGroup('AroraMobilityModel').set('beta1_arora', '-0.57');
model.material('mat1').propertyGroup('AroraMobilityModel').set('beta2_arora', '-2.33');
model.material('mat1').propertyGroup('AroraMobilityModel').set('beta3_arora', '-2.33');
model.material('mat1').propertyGroup('AroraMobilityModel').set('beta4_arora', '-0.146');
model.material('mat1').propertyGroup('AroraMobilityModel').set('Tref_arora', '300[K]');
model.material('mat1').propertyGroup('PowerLawMobilityModel').set('mun0_pl', '1448[cm^2/(V*s)]');
model.material('mat1').propertyGroup('PowerLawMobilityModel').set('mup0_pl', '473[cm^2/(V*s)]');
model.material('mat1').propertyGroup('PowerLawMobilityModel').set('alphan_pl', '2.33');
model.material('mat1').propertyGroup('PowerLawMobilityModel').set('alphap_pl', '2.23');
model.material('mat1').propertyGroup('PowerLawMobilityModel').set('Tref_pl', '300[K]');
model.material('mat1').propertyGroup('Auger').set('Cn', '2.8e-31[cm^6/s]');
model.material('mat1').propertyGroup('Auger').set('Cp', '9.9e-32[cm^6/s]');
model.material('mat1').propertyGroup('Direct').set('C', '0[cm^3/s]');
model.material('mat1').propertyGroup('SRH').set('taun', '10[us]');
model.material('mat1').propertyGroup('SRH').set('taup', '10[us]');
model.material('mat1').propertyGroup('FletcherMobilityModel').set('F1_fl', '1.04e21[1/(cm^1*V*s)]');
model.material('mat1').propertyGroup('FletcherMobilityModel').set('F2_fl', '7.45e13[1/cm^2]');
model.material('mat1').propertyGroup('FletcherMobilityModel').set('Tref_fl', '300[K]');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').label(['Caughey' native2unicode(hex2dec({'20' '13'}), 'unicode') 'Thomas mobility model']);
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('alphan0_ct', '1.11');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('alphap0_ct', '1.21');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('vn0_ct', '1e7[cm/s]');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('vp0_ct', '8.37e6[cm/s]');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('betan1_ct', '0.66');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('betap1_ct', '0.17');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('betan2_ct', '-0.87');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('betap2_ct', '-0.52');
model.material('mat1').propertyGroup('CaugheyThomasMobilityModel').set('Tref_ct', '300[K]');
model.material('mat1').propertyGroup('SemicondMaterial').set('Eg0', '1.12[V]');
model.material('mat1').propertyGroup('SemicondMaterial').set('chi0', '4.05[V]');
model.material('mat1').propertyGroup('SemicondMaterial').set('Nv', '(T/300[K])^(3/2)*1.04e19[1/cm^3]');
model.material('mat1').propertyGroup('SemicondMaterial').set('Nc', '(T/300[K])^(3/2)*2.8e19[1/cm^3]');
model.material('mat1').propertyGroup('SemicondMaterial').set('mun', '1450[cm^2/(V*s)]');
model.material('mat1').propertyGroup('SemicondMaterial').set('mup', '500[cm^2/(V*s)]');
model.material('mat1').propertyGroup('SemicondMaterial').addInput('temperature');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('deltan_ls', '5.82e14[V/s]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('deltap_ls', '2.05e14[V/s]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('mun1_ls', '4.75e7[cm^2/(V*s)]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('mup1_ls', '9.93e7[cm^2/(V*s)]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('mun2_ls', '1.74e5[cm^2/(V*s)]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('mup2_ls', '8.84e5[cm^2/(V*s)]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('alphan_ls', '0.125');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('alphap_ls', '0.0317');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('Tref_ls', '1[K]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('Eref_ls', '1[V/cm]');
model.material('mat1').propertyGroup('LombardiSurfaceMobilityModel').set('Nref_ls', '1[1/cm^3]');
model.material('mat1').propertyGroup('ImpactIonization').set('an', '0.426');
model.material('mat1').propertyGroup('ImpactIonization').set('ap', '0.243');
model.material('mat1').propertyGroup('ImpactIonization').set('bn', '4.81E5[V/cm]');
model.material('mat1').propertyGroup('ImpactIonization').set('bp', '6.53E5[V/cm]');
model.material('mat1').propertyGroup('ImpactIonization').set('cnii', '3.05E-4');
model.material('mat1').propertyGroup('ImpactIonization').set('cpii', '5.35E-4');
model.material('mat1').propertyGroup('ImpactIonization').set('dn', '6.86E-4');
model.material('mat1').propertyGroup('ImpactIonization').set('dp', '5.67E-4');
model.material('mat1').propertyGroup('SlotboomModel').set('Eref_sb', '0.00692[V]');
model.material('mat1').propertyGroup('SlotboomModel').set('Nref_sb', '1.3e17[1/cm^3]');
model.material('mat1').propertyGroup('SlotboomModel').set('alpha_sb', '0.5');
model.material('mat1').propertyGroup('JainRoulstonModel').set('An_jr', '3.5e-8[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Bn_jr', '0[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Cn_jr', '0[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Ap_jr', '3.5e-8[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Bp_jr', '0[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Cp_jr', '0[V]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('Nref_jr', '1[1/cm^3]');
model.material('mat1').propertyGroup('JainRoulstonModel').set('alpha_jr', '0.5');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('T_ref_kl', '300[K]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('mu_e_max_kl', '1414.0[cm^2/V/s]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('mu_h_max_kl', '470.5[cm^2/V/s]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('mu_e_min_kl', '68.5[cm^2/V/s]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('mu_h_min_kl', '44.9[cm^2/V/s]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('theta_e_kl', '2.285');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('theta_h_kl', '2.247');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('alpha_e_1_kl', '0.711');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('alpha_h_1_kl', '0.719');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('N_ref_e_1_kl', '9.20e16[cm^-3]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('N_ref_h_1_kl', '2.23e17[cm^-3]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('c_D_kl', '0.21');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('c_A_kl', '0.50');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('N_ref_D_kl', '4.0e20[cm^-3]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('N_ref_A_kl', '7.2e20[cm^-3]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('f_BH_kl', '3.828');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('f_CW_kl', '2.459');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('N_BH_kl', '1.36e20[cm^-3]');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('P_CW_kl', '3.97e13');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_1_kl', '0.89233');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_2_kl', '0.41372');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_3_kl', '0.19778');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_4_kl', '0.28227');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_5_kl', '0.005978');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_6_kl', '1.80618');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('s_7_kl', '0.72169');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_1_kl', '0.7643');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_2_kl', '2.2999');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_3_kl', '6.5502');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_4_kl', '2.3670');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_5_kl', '-0.01552');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('r_6_kl', '0.6478');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('m_e_kl', 'me_const');
model.material('mat1').propertyGroup('KlaassenUnifiedMobilityModel').set('m_h_kl', '1.258*me_const');
model.material.create('mat2', 'Common', 'comp1');
model.material('mat2').selection.set([3 7]);
model.material('mat2').propertyGroup('def').set('relpermittivity', {'4.2'});

model.param.set('Qgate', '0[C]');
model.param.descr('Qgate', 'Gate charge');
model.param.set('Vcontrol', '0.1[V]');
model.param.descr('Vcontrol', 'Control voltage');
model.param.set('Vd', '10[mV]');
model.param.descr('Vd', 'Drain voltage');
model.param.set('Vmax', '23.7[V]');
model.param.descr('Vmax', 'Transient voltage maximum');
model.param.set('A_fn', '1.23e-6[A/V^2]');
model.param.descr('A_fn', 'A tunneling coefficient');
model.param.set('B_fn', '237[MV/cm]');
model.param.descr('B_fn', 'B tunneling coefficient');

model.func.create('rect1', 'Rectangle');
model.func('rect1').set('lower', '2e-6');
model.func('rect1').set('upper', '5.6e-6');
model.func('rect1').set('smooth', '1.6e-6');

model.variable.create('var1');
model.variable('var1').set('Vcontrol_t', 'Vmax*rect1(t/1[s])');
model.variable('var1').descr('Vcontrol_t', 'Time dependent voltage pulse');
model.variable('var1').label('Control voltage pulse');

model.physics('semi').selection.set([1 2 3 6 7 8 9]);
model.physics('semi').create('ccn1', 'ChargeConservation', 2);
model.physics('semi').feature('ccn1').selection.set([3 7]);
model.physics('semi').create('adm1', 'AnalyticDopingModel', 2);
model.physics('semi').feature('adm1').selection.all;
model.physics('semi').create('adm2', 'AnalyticDopingModel', 2);
model.physics('semi').feature('adm2').selection.set([2 8 9]);
model.physics('semi').feature('adm2').set('impurityType', 'donor');
model.physics('semi').feature('adm2').set('NDc', '5e17[1/cm^3]');
model.physics('semi').create('gdm1', 'GeometricDopingModel', 2);
model.physics('semi').feature('gdm1').selection.set([1 6]);
model.physics('semi').feature('gdm1').set('impurityType', 'donor');
model.physics('semi').feature('gdm1').set('NDgen', '5e17[1/cm^3]');
model.physics('semi').feature('gdm1').set('JunctionOrLength', 'decay_length');
model.physics('semi').feature('gdm1').set('l_gen', '0.02[um]');
model.physics('semi').feature('gdm1').feature('gdmbs1').selection.set([4 16 31 32 35 43 45]);
model.physics('semi').create('adm3', 'AnalyticDopingModel', 2);
model.physics('semi').feature('adm3').selection.set([6 9]);
model.physics('semi').feature('adm3').set('impurityType', 'donor');
model.physics('semi').feature('adm3').set('NDc', '1e18[1/cm^3]');
model.physics('semi').create('gdm2', 'GeometricDopingModel', 2);
model.physics('semi').feature('gdm2').selection.set([1 2 8]);
model.physics('semi').feature('gdm2').set('impurityType', 'donor');
model.physics('semi').feature('gdm2').set('NDgen', '1e18[1/cm^3]');
model.physics('semi').feature('gdm2').set('JunctionOrLength', 'decay_length');
model.physics('semi').feature('gdm2').set('l_gen', '0.02[um]');
model.physics('semi').feature('gdm2').feature('gdmbs1').selection.set([18 24 33 44]);
model.physics('semi').create('mc1', 'MetalContact', 1);
model.physics('semi').feature('mc1').selection.set([39]);
model.physics('semi').feature('mc1').label('Source');
model.physics('semi').create('mc2', 'MetalContact', 1);
model.physics('semi').feature('mc2').selection.set([2]);
model.physics('semi').feature('mc2').label('Base');
model.physics('semi').create('mc3', 'MetalContact', 1);
model.physics('semi').feature('mc3').selection.set([5]);
model.physics('semi').feature('mc3').set('V0', 'Vd');
model.physics('semi').feature('mc3').label('Drain (Stationary)');
model.physics('semi').create('mc4', 'MetalContact', 1);
model.physics('semi').feature('mc4').selection.set([5]);
model.physics('semi').feature('mc4').set('V0', 'Vd');
model.physics('semi').feature('mc4').set('TerminalName', 3);
model.physics('semi').feature('mc4').label('Drain (Time Dependent)');
model.physics('semi').create('term1', 'Terminal', 1);
model.physics('semi').feature('term1').selection.set([13 14 15 30]);
model.physics('semi').feature('term1').set('TerminalType', 'Voltage');
model.physics('semi').feature('term1').set('V0', 'Vcontrol');
model.physics('semi').feature('term1').label('Control gate (Stationary)');
model.physics('semi').create('term2', 'Terminal', 1);
model.physics('semi').feature('term2').selection.set([13 14 15 30]);
model.physics('semi').feature('term2').set('TerminalName', 4);
model.physics('semi').feature('term2').set('TerminalType', 'Voltage');
model.physics('semi').feature('term2').set('V0', 'Vcontrol_t');
model.physics('semi').feature('term2').label('Control gate (Time Dependent)');
model.physics('semi').create('ii2', 'InsulatorInterface', 1);
model.physics('semi').feature('ii2').selection.set([21]);
model.physics('semi').feature('ii2').set('TunnelingType', 'FowlerNordheim');
model.physics('semi').feature('ii2').set('AfnElectrons', 'A_fn');
model.physics('semi').feature('ii2').set('BfnElectrons', 'B_fn');
model.physics('semi').feature('ii2').label('Tunnel barrier');
model.physics('semi').create('fg1', 'FloatingGate', 1);
model.physics('semi').feature('fg1').selection.set([10 11 12 22 23 27 28 29]);
model.physics('semi').feature('fg1').set('Q_init', 'Qgate');
model.physics('semi').feature('fg1').label('Floating Gate');

model.mesh('mesh1').create('size1', 'Size');
model.mesh('mesh1').feature('size1').selection.geom('geom1', 2);
model.mesh('mesh1').feature('size1').selection.set([1 3]);
model.mesh('mesh1').feature('size1').set('hauto', 3);
model.mesh('mesh1').create('size2', 'Size');
model.mesh('mesh1').feature('size2').selection.geom('geom1', 1);
model.mesh('mesh1').feature('size2').selection.set([4 5 18 24 31 32 33 35 39 43 44 45 48]);
model.mesh('mesh1').feature('size2').set('table', 'semi');
model.mesh('mesh1').feature('size2').set('hauto', 4);
model.mesh('mesh1').create('size3', 'Size');
model.mesh('mesh1').feature('size3').selection.geom('geom1', 1);
model.mesh('mesh1').feature('size3').selection.set([10 11 12 13 14 15 28 29 30]);
model.mesh('mesh1').feature('size3').set('custom', true);
model.mesh('mesh1').feature('size3').set('hmaxactive', true);
model.mesh('mesh1').feature('size3').set('hmax', 0.01);
model.mesh('mesh1').create('edg1', 'Edge');
model.mesh('mesh1').feature('edg1').selection.set([17 19 21 26]);
model.mesh('mesh1').feature('edg1').create('size1', 'Size');
model.mesh('mesh1').feature('edg1').feature('size1').set('table', 'semi');
model.mesh('mesh1').feature('edg1').feature('size1').set('hauto', 2);
model.mesh('mesh1').feature('edg1').feature('size1').set('custom', true);
model.mesh('mesh1').feature('edg1').feature('size1').set('hmaxactive', true);
model.mesh('mesh1').feature('edg1').feature('size1').set('hmax', 0.01);
model.mesh('mesh1').feature('edg1').create('size2', 'Size');
model.mesh('mesh1').feature('edg1').feature('size2').selection.geom('geom1', 0);
model.mesh('mesh1').feature('edg1').feature('size2').selection.set([18 22]);
model.mesh('mesh1').feature('edg1').feature('size2').set('table', 'semi');
model.mesh('mesh1').feature('edg1').feature('size2').set('hauto', 2);
model.mesh('mesh1').feature('edg1').feature('size2').set('custom', true);
model.mesh('mesh1').feature('edg1').feature('size2').set('hmaxactive', true);
model.mesh('mesh1').feature('edg1').feature('size2').set('hmax', 0.002);
model.mesh('mesh1').feature('edg1').feature('size2').set('hgradactive', true);
model.mesh('mesh1').feature('edg1').feature('size2').set('hgrad', 1.05);
model.mesh('mesh1').create('cpe1', 'CopyEdge');
model.mesh('mesh1').feature('cpe1').selection('source').set([17]);
model.mesh('mesh1').feature('cpe1').selection('destination').set([51]);
model.mesh('mesh1').create('cpe2', 'CopyEdge');
model.mesh('mesh1').feature('cpe2').selection('source').geom(1);
model.mesh('mesh1').feature('cpe2').selection('destination').geom(1);
model.mesh('mesh1').feature('cpe2').selection('source').set([19 21 26]);
model.mesh('mesh1').feature('cpe2').selection('destination').set([52]);
model.mesh('mesh1').create('map1', 'Map');
model.mesh('mesh1').feature('map1').selection.geom('geom1', 2);
model.mesh('mesh1').feature('map1').selection.set([7 10 11]);
model.mesh('mesh1').feature('map1').set('smoothcontrol', false);
model.mesh('mesh1').feature('map1').set('adjustedgdistr', true);
model.mesh('mesh1').feature('map1').create('dis1', 'Distribution');
model.mesh('mesh1').feature('map1').feature('dis1').selection.set([16]);
model.mesh('mesh1').feature('map1').feature('dis1').set('type', 'predefined');
model.mesh('mesh1').feature('map1').feature('dis1').set('elemcount', 6);
model.mesh('mesh1').feature('map1').feature('dis1').set('elemratio', 3);
model.mesh('mesh1').feature('map1').feature('dis1').set('growthrate', 'exponential');
model.mesh('mesh1').feature('map1').create('dis2', 'Distribution');
model.mesh('mesh1').feature('map1').feature('dis2').selection.set([20]);
model.mesh('mesh1').create('ftri1', 'FreeTri');
model.mesh('mesh1').feature('ftri1').selection.geom('geom1', 2);
model.mesh('mesh1').feature('ftri1').selection.set([1 2 3 6 8 9]);
model.mesh('mesh1').feature('ftri1').set('smoothcontrol', false);
model.mesh('mesh1').run;

model.study('std1').setGenPlots(false);

model.sol.create('sol1');
model.sol('sol1').study('std1');
model.sol('sol1').create('st1', 'StudyStep');
model.sol('sol1').feature('st1').set('study', 'std1');
model.sol('sol1').feature('st1').set('studystep', 'stat');
model.sol('sol1').create('v1', 'Variables');
model.sol('sol1').feature('v1').set('control', 'stat');
model.sol('sol1').create('s1', 'Stationary');
model.sol('sol1').feature('s1').set('stol', 1.0E-6);
model.sol('sol1').feature('s1').feature('aDef').set('complexfun', false);
model.sol('sol1').feature('s1').feature('aDef').set('cachepattern', true);
model.sol('sol1').feature('s1').feature('aDef').set('matherr', true);
model.sol('sol1').feature('s1').feature('aDef').set('blocksizeactive', false);
model.sol('sol1').feature('s1').feature('aDef').set('nullfun', 'auto');
model.sol('sol1').feature('s1').feature('aDef').set('assemtol', 0);
model.sol('sol1').feature('s1').create('fc1', 'FullyCoupled');
model.sol('sol1').feature('s1').feature('fc1').set('rstep', 10);
model.sol('sol1').feature('s1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('ntolfact', 1);
model.sol('sol1').feature('s1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.1);
model.sol('sol1').feature('s1').feature('fc1').set('minsteprecovery', 0.001);
model.sol('sol1').feature('s1').create('d1', 'Direct');
model.sol('sol1').feature('s1').feature('d1').set('linsolver', 'mumps');
model.sol('sol1').feature('s1').feature('d1').set('mumpsalloc', 1.2);
model.sol('sol1').feature('s1').feature('d1').set('ooc', 'off');
model.sol('sol1').feature('s1').feature('d1').set('errorchk', 'off');
model.sol('sol1').feature('s1').feature('fc1').set('linsolver', 'd1');
model.sol('sol1').feature('s1').feature('fc1').set('rstep', 10);
model.sol('sol1').feature('s1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('ntolfact', 1);
model.sol('sol1').feature('s1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.1);
model.sol('sol1').feature('s1').feature('fc1').set('minsteprecovery', 0.001);
model.sol('sol1').feature('s1').feature.remove('fcDef');
model.sol('sol1').attach('std1');
model.sol('sol1').runFromTo('st1', 'v1');

model.result.create('pg1', 'PlotGroup2D');
model.result('pg1').run;
model.result('pg1').create('surf1', 'Surface');
model.result('pg1').feature('surf1').set('expr', 'semi.Ndoping');
model.result('pg1').run;
model.result('pg1').run;
model.result('pg1').label('Doping');

model.study('std1').feature('stat').set('useadvanceddisable', true);
model.study('std1').feature('stat').set('disabledphysics', {'semi/mc4' 'semi/term2'});
model.study('std1').feature('stat').set('useparam', true);
model.study('std1').feature('stat').setIndex('pname', 'Qgate', 0);
model.study('std1').feature('stat').setIndex('plistarr', '', 0);
model.study('std1').feature('stat').setIndex('punit', 'C', 0);
model.study('std1').feature('stat').setIndex('pname', 'Qgate', 0);
model.study('std1').feature('stat').setIndex('plistarr', '', 0);
model.study('std1').feature('stat').setIndex('punit', 'C', 0);
model.study('std1').feature('stat').setIndex('plistarr', '0 -2e-15', 0);
model.study('std1').feature('stat').setIndex('pname', 'Vcontrol', 1);
model.study('std1').feature('stat').setIndex('plistarr', '', 1);
model.study('std1').feature('stat').setIndex('punit', 'V', 1);
model.study('std1').feature('stat').setIndex('pname', 'Vcontrol', 1);
model.study('std1').feature('stat').setIndex('plistarr', '', 1);
model.study('std1').feature('stat').setIndex('punit', 'V', 1);
model.study('std1').feature('stat').setIndex('plistarr', 'range(0,0.1,3)', 1);
model.study('std1').feature('stat').set('sweeptype', 'filled');
model.study('std1').feature('stat').set('preusesol', 'auto');

model.sol('sol1').study('std1');
model.sol('sol1').feature.remove('s1');
model.sol('sol1').feature.remove('v1');
model.sol('sol1').feature.remove('st1');
model.sol('sol1').create('st1', 'StudyStep');
model.sol('sol1').feature('st1').set('study', 'std1');
model.sol('sol1').feature('st1').set('studystep', 'stat');
model.sol('sol1').create('v1', 'Variables');
model.sol('sol1').feature('v1').set('control', 'stat');
model.sol('sol1').create('s1', 'Stationary');
model.sol('sol1').feature('s1').set('stol', 1.0E-6);
model.sol('sol1').feature('s1').create('p1', 'Parametric');
model.sol('sol1').feature('s1').feature.remove('pDef');
model.sol('sol1').feature('s1').feature('p1').set('porder', 'constant');
model.sol('sol1').feature('s1').feature('p1').set('control', 'stat');
model.sol('sol1').feature('s1').set('control', 'stat');
model.sol('sol1').feature('s1').feature('aDef').set('complexfun', false);
model.sol('sol1').feature('s1').feature('aDef').set('cachepattern', true);
model.sol('sol1').feature('s1').feature('aDef').set('matherr', true);
model.sol('sol1').feature('s1').feature('aDef').set('blocksizeactive', false);
model.sol('sol1').feature('s1').feature('aDef').set('nullfun', 'auto');
model.sol('sol1').feature('s1').feature('aDef').set('assemtol', 0);
model.sol('sol1').feature('s1').create('fc1', 'FullyCoupled');
model.sol('sol1').feature('s1').feature('fc1').set('rstep', 10);
model.sol('sol1').feature('s1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('ntolfact', 1);
model.sol('sol1').feature('s1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.1);
model.sol('sol1').feature('s1').feature('fc1').set('minsteprecovery', 0.001);
model.sol('sol1').feature('s1').create('d1', 'Direct');
model.sol('sol1').feature('s1').feature('d1').set('linsolver', 'mumps');
model.sol('sol1').feature('s1').feature('d1').set('mumpsalloc', 1.2);
model.sol('sol1').feature('s1').feature('d1').set('ooc', 'off');
model.sol('sol1').feature('s1').feature('d1').set('errorchk', 'off');
model.sol('sol1').feature('s1').feature('fc1').set('linsolver', 'd1');
model.sol('sol1').feature('s1').feature('fc1').set('rstep', 10);
model.sol('sol1').feature('s1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('maxiter', 50);
model.sol('sol1').feature('s1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol1').feature('s1').feature('fc1').set('dtech', 'auto');
model.sol('sol1').feature('s1').feature('fc1').set('ntolfact', 1);
model.sol('sol1').feature('s1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol1').feature('s1').feature('fc1').set('initstep', 0.1);
model.sol('sol1').feature('s1').feature('fc1').set('minsteprecovery', 0.001);
model.sol('sol1').feature('s1').feature.remove('fcDef');
model.sol('sol1').attach('std1');
model.sol('sol1').feature('v1').set('scalemethod', 'none');
model.sol('sol1').feature('v1').feature('comp1_Ne').set('scalemethod', 'manual');
model.sol('sol1').feature('v1').feature('comp1_Ne').set('scaleval', '1.0e24');
model.sol('sol1').feature('v1').feature('comp1_Ph').set('scalemethod', 'manual');
model.sol('sol1').feature('v1').feature('comp1_Ph').set('scaleval', '1.0e22');

model.study('std1').label('Stationary, sweep Vcontrol for fixed Qgate.');

model.sol('sol1').runAll;

model.result('pg1').run;
model.result.create('pg2', 'PlotGroup1D');
model.result('pg2').run;
model.result('pg2').label('Current vs. Voltage');
model.result('pg2').create('glob1', 'Global');
model.result('pg2').feature('glob1').set('markerpos', 'datapoints');
model.result('pg2').feature('glob1').set('linewidth', 'preference');
model.result('pg2').feature('glob1').setIndex('expr', 'semi.I0_1', 0);
model.result('pg2').feature('glob1').setIndex('unit', 'uA', 0);
model.result('pg2').feature('glob1').setIndex('descr', 'Source current', 0);
model.result('pg2').feature('glob1').set('legendmethod', 'evaluated');
model.result('pg2').feature('glob1').set('legendpattern', 'Qgate= eval(Qgate, C) C');
model.result('pg2').run;
model.result('pg2').set('xlabelactive', true);
model.result('pg2').set('xlabel', 'Control Voltage (V)');
model.result('pg2').set('titletype', 'manual');
model.result('pg2').set('title', 'Source current as a function of Control Voltage');
model.result('pg2').set('legendpos', 'upperleft');
model.result('pg2').run;

model.study.create('std2');
model.study('std2').create('time', 'Transient');
model.study('std2').feature('time').setSolveFor('/physics/semi', true);
model.study('std2').feature('time').set('tlist', 'range(0,0.1e-6,7e-6)');
model.study('std2').feature('time').set('useinitsol', true);
model.study('std2').feature('time').set('initmethod', 'sol');
model.study('std2').feature('time').set('initstudy', 'std1');
model.study('std2').feature('time').set('solnum', 32);
model.study('std2').feature('time').set('useparam', true);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 0);
model.study('std2').feature('time').setIndex('plistarr', '', 0);
model.study('std2').feature('time').setIndex('punit', 'C', 0);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 0);
model.study('std2').feature('time').setIndex('plistarr', '', 0);
model.study('std2').feature('time').setIndex('punit', 'C', 0);
model.study('std2').feature('time').setIndex('pname', 'Vmax', 0);
model.study('std2').feature('time').setIndex('plistarr', '16.8[V]', 0);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 1);
model.study('std2').feature('time').setIndex('plistarr', '', 1);
model.study('std2').feature('time').setIndex('punit', 'C', 1);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 1);
model.study('std2').feature('time').setIndex('plistarr', '', 1);
model.study('std2').feature('time').setIndex('punit', 'C', 1);
model.study('std2').feature('time').setIndex('pname', 'A_fn', 1);
model.study('std2').feature('time').setIndex('plistarr', '1.23e-6[A/V^2]', 1);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 2);
model.study('std2').feature('time').setIndex('plistarr', '', 2);
model.study('std2').feature('time').setIndex('punit', 'C', 2);
model.study('std2').feature('time').setIndex('pname', 'Qgate', 2);
model.study('std2').feature('time').setIndex('plistarr', '', 2);
model.study('std2').feature('time').setIndex('punit', 'C', 2);
model.study('std2').feature('time').setIndex('pname', 'B_fn', 2);
model.study('std2').feature('time').setIndex('plistarr', '237[MV/cm]', 2);
model.study('std2').label('Time dependent, Program event');
model.study('std2').setGenPlots(false);

model.sol.create('sol2');
model.sol('sol2').study('std2');
model.sol('sol2').create('st1', 'StudyStep');
model.sol('sol2').feature('st1').set('study', 'std2');
model.sol('sol2').feature('st1').set('studystep', 'time');
model.sol('sol2').create('v1', 'Variables');
model.sol('sol2').feature('v1').set('control', 'time');
model.sol('sol2').create('t1', 'Time');
model.sol('sol2').feature('t1').set('tlist', 'range(0,0.1e-6,7e-6)');
model.sol('sol2').feature('t1').set('plot', 'off');
model.sol('sol2').feature('t1').set('plotgroup', 'pg1');
model.sol('sol2').feature('t1').set('plotfreq', 'tout');
model.sol('sol2').feature('t1').set('probesel', 'all');
model.sol('sol2').feature('t1').set('probes', {});
model.sol('sol2').feature('t1').set('probefreq', 'tsteps');
model.sol('sol2').feature('t1').set('rtol', 1.0E-5);
model.sol('sol2').feature('t1').set('atolglobalvaluemethod', 'factor');
model.sol('sol2').feature('t1').set('atolglobalmethod', 'scaled');
model.sol('sol2').feature('t1').set('atolglobalfactor', 0.1);
model.sol('sol2').feature('t1').set('atolglobalvaluemethod', 'factor');
model.sol('sol2').feature('t1').set('eventtol', 0.01);
model.sol('sol2').feature('t1').set('reacf', true);
model.sol('sol2').feature('t1').set('storeudot', true);
model.sol('sol2').feature('t1').set('tstepsbdf', 'strict');
model.sol('sol2').feature('t1').set('endtimeinterpolation', true);
model.sol('sol2').feature('t1').set('maxorder', 5);
model.sol('sol2').feature('t1').set('minorder', 1);
model.sol('sol2').feature('t1').set('rescaleafterinitbw', false);
model.sol('sol2').feature('t1').set('bwinitstepfrac', '0.001');
model.sol('sol2').feature('t1').create('tp1', 'TimeParametric');
model.sol('sol2').feature('t1').feature.remove('tpDef');
model.sol('sol2').feature('t1').feature('tp1').set('control', 'time');
model.sol('sol2').feature('t1').set('control', 'time');
model.sol('sol2').feature('t1').feature('aDef').set('complexfun', false);
model.sol('sol2').feature('t1').feature('aDef').set('cachepattern', true);
model.sol('sol2').feature('t1').feature('aDef').set('matherr', true);
model.sol('sol2').feature('t1').feature('aDef').set('blocksizeactive', false);
model.sol('sol2').feature('t1').feature('aDef').set('nullfun', 'auto');
model.sol('sol2').feature('t1').feature('aDef').set('assemtol', 0);
model.sol('sol2').feature('t1').create('fc1', 'FullyCoupled');
model.sol('sol2').feature('t1').feature('fc1').set('rstep', 10);
model.sol('sol2').feature('t1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol2').feature('t1').feature('fc1').set('maxiter', 4);
model.sol('sol2').feature('t1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol2').feature('t1').feature('fc1').set('dtech', 'auto');
model.sol('sol2').feature('t1').feature('fc1').set('ntolfact', 1);
model.sol('sol2').feature('t1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol2').feature('t1').feature('fc1').set('initstep', 1);
model.sol('sol2').feature('t1').feature('fc1').set('minsteprecovery', 0.75);
model.sol('sol2').feature('t1').create('d1', 'Direct');
model.sol('sol2').feature('t1').feature('d1').set('linsolver', 'mumps');
model.sol('sol2').feature('t1').feature('d1').set('mumpsalloc', 1.2);
model.sol('sol2').feature('t1').feature('d1').set('ooc', 'off');
model.sol('sol2').feature('t1').feature('d1').set('errorchk', 'off');
model.sol('sol2').feature('t1').feature('fc1').set('linsolver', 'd1');
model.sol('sol2').feature('t1').feature('fc1').set('rstep', 10);
model.sol('sol2').feature('t1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol2').feature('t1').feature('fc1').set('maxiter', 4);
model.sol('sol2').feature('t1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol2').feature('t1').feature('fc1').set('dtech', 'auto');
model.sol('sol2').feature('t1').feature('fc1').set('ntolfact', 1);
model.sol('sol2').feature('t1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol2').feature('t1').feature('fc1').set('initstep', 1);
model.sol('sol2').feature('t1').feature('fc1').set('minsteprecovery', 0.75);
model.sol('sol2').feature('t1').feature.remove('fcDef');
model.sol('sol2').attach('std2');
model.sol('sol2').feature('t1').set('tstepsbdf', 'intermediate');
model.sol('sol2').runAll;

model.study.create('std3');
model.study('std3').create('time', 'Transient');
model.study('std3').feature('time').setSolveFor('/physics/semi', true);
model.study('std3').feature('time').set('tlist', 'range(0,0.1e-6,7e-6)');
model.study('std3').feature('time').set('useinitsol', true);
model.study('std3').feature('time').set('initmethod', 'sol');
model.study('std3').feature('time').set('initstudy', 'std2');
model.study('std3').feature('time').set('solnum', 'last');
model.study('std3').feature('time').set('useparam', true);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 0);
model.study('std3').feature('time').setIndex('plistarr', '', 0);
model.study('std3').feature('time').setIndex('punit', 'C', 0);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 0);
model.study('std3').feature('time').setIndex('plistarr', '', 0);
model.study('std3').feature('time').setIndex('punit', 'C', 0);
model.study('std3').feature('time').setIndex('pname', 'Vmax', 0);
model.study('std3').feature('time').setIndex('plistarr', -15.34, 0);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 1);
model.study('std3').feature('time').setIndex('plistarr', '', 1);
model.study('std3').feature('time').setIndex('punit', 'C', 1);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 1);
model.study('std3').feature('time').setIndex('plistarr', '', 1);
model.study('std3').feature('time').setIndex('punit', 'C', 1);
model.study('std3').feature('time').setIndex('pname', 'A_fn', 1);
model.study('std3').feature('time').setIndex('plistarr', '1.82e-7[A/V^2]', 1);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 2);
model.study('std3').feature('time').setIndex('plistarr', '', 2);
model.study('std3').feature('time').setIndex('punit', 'C', 2);
model.study('std3').feature('time').setIndex('pname', 'Qgate', 2);
model.study('std3').feature('time').setIndex('plistarr', '', 2);
model.study('std3').feature('time').setIndex('punit', 'C', 2);
model.study('std3').feature('time').setIndex('pname', 'B_fn', 2);
model.study('std3').feature('time').setIndex('plistarr', '188[MV/cm]', 2);
model.study('std3').label('Time dependent, Erase event');
model.study('std3').setGenPlots(false);

model.sol.create('sol3');
model.sol('sol3').study('std3');
model.sol('sol3').create('st1', 'StudyStep');
model.sol('sol3').feature('st1').set('study', 'std3');
model.sol('sol3').feature('st1').set('studystep', 'time');
model.sol('sol3').create('v1', 'Variables');
model.sol('sol3').feature('v1').set('control', 'time');
model.sol('sol3').create('t1', 'Time');
model.sol('sol3').feature('t1').set('tlist', 'range(0,0.1e-6,7e-6)');
model.sol('sol3').feature('t1').set('plot', 'off');
model.sol('sol3').feature('t1').set('plotgroup', 'pg1');
model.sol('sol3').feature('t1').set('plotfreq', 'tout');
model.sol('sol3').feature('t1').set('probesel', 'all');
model.sol('sol3').feature('t1').set('probes', {});
model.sol('sol3').feature('t1').set('probefreq', 'tsteps');
model.sol('sol3').feature('t1').set('rtol', 1.0E-5);
model.sol('sol3').feature('t1').set('atolglobalvaluemethod', 'factor');
model.sol('sol3').feature('t1').set('atolglobalmethod', 'scaled');
model.sol('sol3').feature('t1').set('atolglobalfactor', 0.1);
model.sol('sol3').feature('t1').set('atolglobalvaluemethod', 'factor');
model.sol('sol3').feature('t1').set('eventtol', 0.01);
model.sol('sol3').feature('t1').set('reacf', true);
model.sol('sol3').feature('t1').set('storeudot', true);
model.sol('sol3').feature('t1').set('tstepsbdf', 'strict');
model.sol('sol3').feature('t1').set('endtimeinterpolation', true);
model.sol('sol3').feature('t1').set('maxorder', 5);
model.sol('sol3').feature('t1').set('minorder', 1);
model.sol('sol3').feature('t1').set('rescaleafterinitbw', false);
model.sol('sol3').feature('t1').set('bwinitstepfrac', '0.001');
model.sol('sol3').feature('t1').create('tp1', 'TimeParametric');
model.sol('sol3').feature('t1').feature.remove('tpDef');
model.sol('sol3').feature('t1').feature('tp1').set('control', 'time');
model.sol('sol3').feature('t1').set('control', 'time');
model.sol('sol3').feature('t1').feature('aDef').set('complexfun', false);
model.sol('sol3').feature('t1').feature('aDef').set('cachepattern', true);
model.sol('sol3').feature('t1').feature('aDef').set('matherr', true);
model.sol('sol3').feature('t1').feature('aDef').set('blocksizeactive', false);
model.sol('sol3').feature('t1').feature('aDef').set('nullfun', 'auto');
model.sol('sol3').feature('t1').feature('aDef').set('assemtol', 0);
model.sol('sol3').feature('t1').create('fc1', 'FullyCoupled');
model.sol('sol3').feature('t1').feature('fc1').set('rstep', 10);
model.sol('sol3').feature('t1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol3').feature('t1').feature('fc1').set('maxiter', 4);
model.sol('sol3').feature('t1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol3').feature('t1').feature('fc1').set('dtech', 'auto');
model.sol('sol3').feature('t1').feature('fc1').set('ntolfact', 1);
model.sol('sol3').feature('t1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol3').feature('t1').feature('fc1').set('initstep', 1);
model.sol('sol3').feature('t1').feature('fc1').set('minsteprecovery', 0.75);
model.sol('sol3').feature('t1').create('d1', 'Direct');
model.sol('sol3').feature('t1').feature('d1').set('linsolver', 'mumps');
model.sol('sol3').feature('t1').feature('d1').set('mumpsalloc', 1.2);
model.sol('sol3').feature('t1').feature('d1').set('ooc', 'off');
model.sol('sol3').feature('t1').feature('d1').set('errorchk', 'off');
model.sol('sol3').feature('t1').feature('fc1').set('linsolver', 'd1');
model.sol('sol3').feature('t1').feature('fc1').set('rstep', 10);
model.sol('sol3').feature('t1').feature('fc1').set('useminsteprecovery', 'auto');
model.sol('sol3').feature('t1').feature('fc1').set('maxiter', 4);
model.sol('sol3').feature('t1').feature('fc1').set('minstep', 1.0E-4);
model.sol('sol3').feature('t1').feature('fc1').set('dtech', 'auto');
model.sol('sol3').feature('t1').feature('fc1').set('ntolfact', 1);
model.sol('sol3').feature('t1').feature('fc1').set('ntermauto', 'tol');
model.sol('sol3').feature('t1').feature('fc1').set('initstep', 1);
model.sol('sol3').feature('t1').feature('fc1').set('minsteprecovery', 0.75);
model.sol('sol3').feature('t1').feature.remove('fcDef');
model.sol('sol3').attach('std3');
model.sol('sol3').feature('t1').set('tstepsbdf', 'intermediate');
model.sol('sol3').runAll;

model.result.create('pg3', 'PlotGroup1D');
model.result('pg3').run;
model.result('pg3').label('Tunnel Current');
model.result('pg3').set('data', 'none');
model.result('pg3').set('titletype', 'manual');
model.result('pg3').set('title', 'Tunnel current as a function of time');
model.result('pg3').set('xlabelactive', true);
model.result('pg3').set('xlabel', 'Time (us)');
model.result('pg3').set('ylabelactive', true);
model.result('pg3').set('ylabel', 'Tunnel current (nA)');
model.result('pg3').create('glob1', 'Global');
model.result('pg3').feature('glob1').set('markerpos', 'datapoints');
model.result('pg3').feature('glob1').set('linewidth', 'preference');
model.result('pg3').feature('glob1').set('data', 'dset2');
model.result('pg3').feature('glob1').setIndex('expr', 'semi.ii2.I_tun', 0);
model.result('pg3').feature('glob1').setIndex('unit', 'nA', 0);
model.result('pg3').feature('glob1').setIndex('descr', 'Tunnel current', 0);
model.result('pg3').feature('glob1').set('xdatasolnumtype', 'level1');
model.result('pg3').feature('glob1').set('xdataparamunit', [native2unicode(hex2dec({'00' 'b5'}), 'unicode') 's']);
model.result('pg3').feature('glob1').set('legendmethod', 'manual');
model.result('pg3').feature('glob1').setIndex('legends', 'Program event', 0);
model.result('pg3').run;
model.result('pg3').create('glob2', 'Global');
model.result('pg3').feature('glob2').set('markerpos', 'datapoints');
model.result('pg3').feature('glob2').set('linewidth', 'preference');
model.result('pg3').feature('glob2').set('data', 'dset3');
model.result('pg3').feature('glob2').setIndex('expr', 'semi.ii2.I_tun', 0);
model.result('pg3').feature('glob2').setIndex('unit', 'nA', 0);
model.result('pg3').feature('glob2').setIndex('descr', 'Tunnel current', 0);
model.result('pg3').feature('glob2').set('xdatasolnumtype', 'level1');
model.result('pg3').feature('glob2').set('xdataparamunit', [native2unicode(hex2dec({'00' 'b5'}), 'unicode') 's']);
model.result('pg3').feature('glob2').set('legendmethod', 'manual');
model.result('pg3').feature('glob2').setIndex('legends', 'Erase event', 0);
model.result('pg3').run;
model.result.create('pg4', 'PlotGroup1D');
model.result('pg4').run;
model.result('pg4').set('data', 'none');
model.result('pg4').set('titletype', 'manual');
model.result('pg4').set('title', 'Floating gate charge as a function of time');
model.result('pg4').set('xlabelactive', true);
model.result('pg4').set('xlabel', 'Time (us)');
model.result('pg4').set('ylabelactive', true);
model.result('pg4').set('ylabel', 'Charge on Floating Gate (pC)');
model.result('pg4').create('glob1', 'Global');
model.result('pg4').feature('glob1').set('markerpos', 'datapoints');
model.result('pg4').feature('glob1').set('linewidth', 'preference');
model.result('pg4').feature('glob1').set('data', 'dset2');
model.result('pg4').feature('glob1').setIndex('expr', 'semi.fg1.Q0', 0);
model.result('pg4').feature('glob1').setIndex('unit', 'pC', 0);
model.result('pg4').feature('glob1').setIndex('descr', 'Charge', 0);
model.result('pg4').feature('glob1').set('xdatasolnumtype', 'level1');
model.result('pg4').feature('glob1').set('xdataparamunit', [native2unicode(hex2dec({'00' 'b5'}), 'unicode') 's']);
model.result('pg4').feature('glob1').set('legendmethod', 'manual');
model.result('pg4').feature('glob1').setIndex('legends', 'Program event', 0);
model.result('pg4').feature.duplicate('glob2', 'glob1');
model.result('pg4').run;
model.result('pg4').feature('glob2').set('data', 'dset3');
model.result('pg4').feature('glob2').setIndex('legends', 'Erase event', 0);
model.result('pg4').run;
model.result('pg4').run;
model.result('pg4').label('Floating Gate Charge');

model.title('Programming of a Floating Gate EEPROM Device');

model.description('This example calculates the current and charge characteristics of a floating gate Electrically Erasable Programmable Read-Only Memory (EEPROM) device. A stationary study demonstrates the effects of varying the charge stored on the floating gate by computing Current-Voltage curves as a function of the control gate voltage for two different amounts of stored charge. Time dependent studies are then used to simulate transient voltage pulses on the control gate. These pulses cause current to tunnel between the floating gate and the semiconductor material, allowing the EEPROM device to be both programmed and erased.');

model.mesh.clearMeshes;

model.sol('sol1').clearSolutionData;
model.sol('sol2').clearSolutionData;
model.sol('sol3').clearSolutionData;

model.label('eeprom.mph');

model.modelNode.label('Components');

out = model;
