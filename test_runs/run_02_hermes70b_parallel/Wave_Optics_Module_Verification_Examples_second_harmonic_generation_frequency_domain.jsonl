{"instruction": "[Model] This code segment initializes a COMSOL model for simulating second harmonic generation in the frequency domain.", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to set up the model environment and specify the model path for the simulation.\nWhat to do: This code segment initializes a COMSOL model for simulating second harmonic generation in the frequency domain.", "output": "function out = model\n%\n% second_harmonic_generation_frequency_domain.m\n%\n% Model exported on May 26 2025, 21:34 by COMSOL 6.2.0.339.\n\nimport com.comsol.model.*\nimport com.comsol.model.util.*\n\nmodel = ModelUtil.create('Model');\n\nmodel.modelPath('/Applications/COMSOL62/Multiphysics/applications/Wave_Optics_Module/Verification_Examples');", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the model environment and specify the model path for the simulation.", "confidence": 0.1, "source": "code_first", "category": "other", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ModelUtil.create('Model')", "model.modelPath()"]}
{"instruction": "[Model] Creates a component named 'comp1' in the model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: Needed to organize the model into different components for better management and readability\nWhat to do: Creates a component named 'comp1' in the model", "output": "model.modelNode.create('comp1', true);", "explanation": "Physics: Unknown. Purpose: Needed to organize the model into different components for better management and readability", "confidence": 0.3, "source": "code_first", "category": "other", "match_info": "Generated from code analysis with model context", "comsol_ids": ["comp1"]}
{"instruction": "[Model] Creates a 2D geometry named 'geom1' in the COMSOL model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the geometry for the simulation domain\nWhat to do: Creates a 2D geometry named 'geom1' in the COMSOL model", "output": "model.geom.create('geom1', 2);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the geometry for the simulation domain", "confidence": 0.5, "source": "code_first", "category": "geometry", "match_info": "Generated from code analysis with model context", "comsol_ids": ["geom1"]}
{"instruction": "[Model] Accesses the geometry and component of the COMSOL model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to set up the geometry and component for the simulation\nWhat to do: Accesses the geometry and component of the COMSOL model", "output": "model.geom('geom1').model('comp1');", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the geometry and component for the simulation", "confidence": 0.5, "source": "code_first", "category": "geometry", "match_info": "Generated from code analysis with model context", "comsol_ids": ["geom1", "comp1"]}
{"instruction": "[Model] Creates a mesh named 'mesh1' based on the geometry 'geom1'", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to generate a mesh for the geometry, which is required for the simulation to solve the physics equations\nWhat to do: Creates a mesh named 'mesh1' based on the geometry 'geom1'", "output": "model.mesh.create('mesh1', 'geom1');", "explanation": "Physics: Unknown. Purpose: This step is needed to generate a mesh for the geometry, which is required for the simulation to solve the physics equations", "confidence": 0.3, "source": "code_first", "category": "mesh", "match_info": "Generated from code analysis with model context", "comsol_ids": ["mesh1", "geom1"]}
{"instruction": "[Model] Creates an Electromagnetic Waves, Frequency Domain physics interface for the fundamental wave", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To model the propagation of the fundamental wave in the second harmonic generation process\nWhat to do: Creates an Electromagnetic Waves, Frequency Domain physics interface for the fundamental wave", "output": "model.physics.create('ewfd', 'ElectromagneticWavesFrequencyDomain', 'geom1');", "explanation": "Physics: Unknown. Purpose: To model the propagation of the fundamental wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd"]}
{"instruction": "[Model] Accesses the Electromagnetic Waves, Frequency Domain interface and its model in component 1", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to set up the physics of the model for the fundamental wave and the second harmonic wave\nWhat to do: Accesses the Electromagnetic Waves, Frequency Domain interface and its model in component 1", "output": "model.physics('ewfd').model('comp1');", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the physics of the model for the fundamental wave and the second harmonic wave", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd", "comp1"]}
{"instruction": "[Model] Creates a second Electromagnetic Waves, Frequency Domain interface for the second harmonic wave", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To simulate the second harmonic generation process\nWhat to do: Creates a second Electromagnetic Waves, Frequency Domain interface for the second harmonic wave", "output": "model.physics.create('ewfd2', 'ElectromagneticWavesFrequencyDomain', 'geom1');", "explanation": "Physics: Unknown. Purpose: To simulate the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Sets up the Electromagnetic Waves, Frequency Domain interface for the second harmonic wave in component 1", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the physics governing the second harmonic wave propagation in the simulation\nWhat to do: Sets up the Electromagnetic Waves, Frequency Domain interface for the second harmonic wave in component 1", "output": "model.physics('ewfd2').model('comp1');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the physics governing the second harmonic wave propagation in the simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "comp1"]}
{"instruction": "[Model] Creates a new study with the identifier 'std1'.", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to set up the study for the simulation, which will be used to solve the model and analyze the results.\nWhat to do: Creates a new study with the identifier 'std1'.", "output": "model.study.create('std1');", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the study for the simulation, which will be used to solve the model and analyze the results.", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1"]}
{"instruction": "[Model] Creates a frequency study in the model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To analyze the frequency domain behavior of the second harmonic generation process\nWhat to do: Creates a frequency study in the model", "output": "model.study('std1').create('freq', 'Frequency');", "explanation": "Physics: Unknown. Purpose: To analyze the frequency domain behavior of the second harmonic generation process", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1"]}
{"instruction": "[Model] Sets the solution number for the frequency domain study to 'auto'", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to automatically determine the appropriate solution number for the frequency domain study in the simulation\nWhat to do: Sets the solution number for the frequency domain study to 'auto'", "output": "model.study('std1').feature('freq').set('solnum', 'auto');", "explanation": "Physics: Unknown. Purpose: This step is needed to automatically determine the appropriate solution number for the frequency domain study in the simulation", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the solution number to automatic for the frequency domain study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: Determines the number of solutions to compute for the frequency domain study in the model\nWhat to do: Sets the solution number to automatic for the frequency domain study", "output": "model.study('std1').feature('freq').set('notsolnum', 'auto');", "explanation": "Physics: Unknown. Purpose: Determines the number of solutions to compute for the frequency domain study in the model", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the output map for the frequency domain study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the output settings for the frequency domain study in the simulation\nWhat to do: Sets the output map for the frequency domain study", "output": "model.study('std1').feature('freq').set('outputmap', {});", "explanation": "Physics: Unknown. Purpose: This step is needed to define the output settings for the frequency domain study in the simulation", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the number of auxiliary sweeps for the frequency study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To refine the frequency study and obtain more accurate results\nWhat to do: Sets the number of auxiliary sweeps for the frequency study", "output": "model.study('std1').feature('freq').set('ngenAUX', '1');", "explanation": "Physics: Unknown. Purpose: To refine the frequency study and obtain more accurate results", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the number of generated auxiliary variables for the frequency study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to control the number of auxiliary variables generated during the frequency study, which can help in analyzing the second harmonic generation process\nWhat to do: Sets the number of generated auxiliary variables for the frequency study", "output": "model.study('std1').feature('freq').set('goalngenAUX', '1');", "explanation": "Physics: Unknown. Purpose: This step is needed to control the number of auxiliary variables generated during the frequency study, which can help in analyzing the second harmonic generation process", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the number of auxiliary sweeps for the frequency study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To refine the frequency study and obtain more accurate results for the second harmonic generation process\nWhat to do: Sets the number of auxiliary sweeps for the frequency study", "output": "model.study('std1').feature('freq').set('ngenAUX', '1');", "explanation": "Physics: Unknown. Purpose: To refine the frequency study and obtain more accurate results for the second harmonic generation process", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets the number of generated auxiliary variables for the frequency study", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to control the number of auxiliary variables generated during the frequency study, which can affect the accuracy and computational efficiency of the simulation\nWhat to do: Sets the number of generated auxiliary variables for the frequency study", "output": "model.study('std1').feature('freq').set('goalngenAUX', '1');", "explanation": "Physics: Unknown. Purpose: This step is needed to control the number of auxiliary variables generated during the frequency study, which can affect the accuracy and computational efficiency of the simulation", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Sets up the study to solve for the electromagnetic waves in the frequency domain physics interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to configure the solver to compute the electromagnetic field distribution for the fundamental wave and the second harmonic wave\nWhat to do: Sets up the study to solve for the electromagnetic waves in the frequency domain physics interface", "output": "model.study('std1').feature('freq').setSolveFor('/physics/ewfd', true);", "explanation": "Physics: Unknown. Purpose: This step is needed to configure the solver to compute the electromagnetic field distribution for the fundamental wave and the second harmonic wave", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq", "ewfd"]}
{"instruction": "[Model] Sets up parameters for the simulation, including wavelengths, frequencies, simulation dimensions, and material properties", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: These parameters are necessary to define the geometry, materials, and physics of the second harmonic generation simulation\nWhat to do: Sets up parameters for the simulation, including wavelengths, frequencies, simulation dimensions, and material properties", "output": "model.study('std1').feature('freq').setSolveFor('/physics/ewfd2', true);\n\n% To import content from file, use:\n% model.param.loadFile('FILENAME');\nmodel.param.set('lambda1', '1.064[um]', 'Fundamental wavelength');\nmodel.param.set('f1', 'c_const/lambda1', 'Fundamental frequency');\nmodel.param.set('f2', '2*f1', 'Second harmonic frequency');\nmodel.param.set('lambda2', 'c_const/f2', 'Second harmonic wavelength');\nmodel.param.set('sim_l', 'lambda1*25', 'Simulation length');\nmodel.param.set('sim_h', 'lambda2/16', 'Simulation height');\nmodel.param.set('d', '1e-18[C/V^2]', 'Nonlinear coefficient');\nmodel.param.set('L', 'sim_l - 3*lambda1', 'Length of nonlinear region');\nmodel.param.set('I1', '30[MW/m^2]', 'Incident fundamental intensity');\nmodel.param.set('E1', 'sqrt(2*I1/c_const/epsilon0_const)', 'Incident fundamental electric field strength');\nmodel.param.set('offset', '1.5*lambda1', 'Start of nonlinear region');", "explanation": "Physics: Unknown. Purpose: These parameters are necessary to define the geometry, materials, and physics of the second harmonic generation simulation", "confidence": 0.3, "source": "code_first", "category": "parameters", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Creates a rectangle geometry object named 'r1' in the geometry 'geom1'", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').create('r1', 'Rectangle');", "explanation": "Physics: Unknown. Purpose: Defines the geometry for the simulation domain", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Sets the size of the geometry object 'r1' in 'geom1' to 'sim_l' and 'sim_h'", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').feature('r1').set('size', {'sim_l' 'sim_h'});", "explanation": "Physics: Unknown. Purpose: Adjusting the geometry size to match the simulation domain for the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Sets the refractive index of 'Layer 1' to 0 in the geometry 'geom1', feature 'r1'", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').feature('r1').setIndex('layername', 'Layer 1', 0);", "explanation": "Physics: Unknown. Purpose: To perfectly match the refractive index for each frequency in the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Sets the layer offset to 0 for the geometry object 'geom1', feature 'r1'", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').feature('r1').setIndex('layer', 'offset', 0);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the geometry of the model accurately", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Sets the 'layerleft' property of the 'r1' feature in the 'geom1' geometry to true", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').feature('r1').set('layerleft', true);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the geometry for the simulation", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Sets the 'layerright' property of the 'r1' feature in the 'geom1' geometry to true", "input": "1 In the Geometry toolbar, click \n\nRectangle.\n\n2 In the Settings window for Rectangle, locate the Size and Shape section.\n\n3 In the Width text field, type sim_l.\n\n4 In the Height text field, type sim_h.\n\n5 Click to expand the Layers section. In the table, enter the following settings:", "output": "model.geom('geom1').feature('r1').set('layerright', true);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the geometry for the simulation", "confidence": 1.3, "source": "code_first", "category": "geometry", "match_info": "Matched to PDF section: Rectangle 1 (r1)", "comsol_ids": ["geom1", "r1"]}
{"instruction": "[Model] Disables the bottom layer of the geometry and sets the view axis scaling to automatic", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to simplify the geometry and adjust the view for better visualization\nWhat to do: Disables the bottom layer of the geometry and sets the view axis scaling to automatic", "output": "model.geom('geom1').feature('r1').set('layerbottom', false);\n\nmodel.view('view1').axis.set('viewscaletype', 'automatic');", "explanation": "Physics: Unknown. Purpose: This step is needed to simplify the geometry and adjust the view for better visualization", "confidence": 0.3, "source": "code_first", "category": "geometry|results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["geom1", "view1"]}
{"instruction": "[Model] Runs the geometry sequence 'geom1' to create the geometry for the simulation", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to create the geometry for the second harmonic generation simulation\nWhat to do: Runs the geometry sequence 'geom1' to create the geometry for the simulation", "output": "model.geom('geom1').run;", "explanation": "Physics: Unknown. Purpose: This step is needed to create the geometry for the second harmonic generation simulation", "confidence": 0.5, "source": "code_first", "category": "geometry", "match_info": "Generated from code analysis with model context", "comsol_ids": ["geom1"]}
{"instruction": "[Model] Creates a new material with the name 'mat1' in the component 'comp1' using the 'Common' material model", "input": "1 In the Model Builder window, under Component 1 (comp1) right-click Materials and \n\nchoose Blank Material.\n\n2 In the Settings window for Material, locate the Material Contents section.\n\n9  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f3 In the table, enter the following settings:\n\nProperty\n\nVariable\n\nValue\n\nUnit\n\nProperty group\n\nRefractive index, real \npart\n\nn_iso ; nii = n_iso, \nnij = 0\n\nRefractive index, \nimaginary part\n\nki_iso ; kiii = \nki_iso, kiij = 0\n\n1\n\n0\n\n1\n\n1\n\nRefractive index\n\nRefractive index\n\nF U N D A M E N T A L\n\n1 In the Model Builder window, under Component 1 (comp1) click Electromagnetic Waves,", "output": "model.material.create('mat1', 'Common', 'comp1');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the material properties for the simulation, which will be used to set up the physics interfaces and boundary conditions", "confidence": 1.3, "source": "code_first", "category": "materials", "match_info": "Matched to PDF section: M A T E R I A L S\n\nMaterial 1 (mat1)", "comsol_ids": ["mat1"]}
{"instruction": "[Model] Creates a property group for refractive index in material 'mat1'", "input": "1 In the Model Builder window, under Component 1 (comp1) right-click Materials and \n\nchoose Blank Material.\n\n2 In the Settings window for Material, locate the Material Contents section.\n\n9  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f3 In the table, enter the following settings:\n\nProperty\n\nVariable\n\nValue\n\nUnit\n\nProperty group\n\nRefractive index, real \npart\n\nn_iso ; nii = n_iso, \nnij = 0\n\nRefractive index, \nimaginary part\n\nki_iso ; kiii = \nki_iso, kiij = 0\n\n1\n\n0\n\n1\n\n1\n\nRefractive index\n\nRefractive index\n\nF U N D A M E N T A L\n\n1 In the Model Builder window, under Component 1 (comp1) click Electromagnetic Waves,", "output": "model.material('mat1').propertyGroup.create('RefractiveIndex', 'Refractive_index');", "explanation": "Physics: Unknown. Purpose: Defines the refractive index properties for the material used in the simulation", "confidence": 1.3, "source": "code_first", "category": "materials", "match_info": "Matched to PDF section: M A T E R I A L S\n\nMaterial 1 (mat1)", "comsol_ids": ["mat1", "RefractiveIndex"]}
{"instruction": "[Model] Sets the refractive index of material 'mat1' to 1", "input": "1 In the Model Builder window, under Component 1 (comp1) right-click Materials and \n\nchoose Blank Material.\n\n2 In the Settings window for Material, locate the Material Contents section.\n\n9  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f3 In the table, enter the following settings:\n\nProperty\n\nVariable\n\nValue\n\nUnit\n\nProperty group\n\nRefractive index, real \npart\n\nn_iso ; nii = n_iso, \nnij = 0\n\nRefractive index, \nimaginary part\n\nki_iso ; kiii = \nki_iso, kiij = 0\n\n1\n\n0\n\n1\n\n1\n\nRefractive index\n\nRefractive index\n\nF U N D A M E N T A L\n\n1 In the Model Builder window, under Component 1 (comp1) click Electromagnetic Waves,", "output": "model.material('mat1').propertyGroup('RefractiveIndex').set('n', {'1'});", "explanation": "Physics: Unknown. Purpose: To perfectly match the refractive index for each frequency in the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "materials", "match_info": "Matched to PDF section: M A T E R I A L S\n\nMaterial 1 (mat1)", "comsol_ids": ["mat1", "RefractiveIndex"]}
{"instruction": "[Model] Sets the imaginary part of the refractive index to zero for material 'mat1'", "input": "1 In the Model Builder window, under Component 1 (comp1) right-click Materials and \n\nchoose Blank Material.\n\n2 In the Settings window for Material, locate the Material Contents section.\n\n9  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f3 In the table, enter the following settings:\n\nProperty\n\nVariable\n\nValue\n\nUnit\n\nProperty group\n\nRefractive index, real \npart\n\nn_iso ; nii = n_iso, \nnij = 0\n\nRefractive index, \nimaginary part\n\nki_iso ; kiii = \nki_iso, kiij = 0\n\n1\n\n0\n\n1\n\n1\n\nRefractive index\n\nRefractive index\n\nF U N D A M E N T A L\n\n1 In the Model Builder window, under Component 1 (comp1) click Electromagnetic Waves,", "output": "model.material('mat1').propertyGroup('RefractiveIndex').set('ki', {'0'});", "explanation": "Physics: Unknown. Purpose: Ensures perfect matching of refractive index for each frequency in the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "materials", "match_info": "Matched to PDF section: M A T E R I A L S\n\nMaterial 1 (mat1)", "comsol_ids": ["mat1", "RefractiveIndex"]}
{"instruction": "[Model] Sets the label for the physics interface of the fundamental wave", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to organize and identify the physics interface for the fundamental wave in the simulation\nWhat to do: Sets the label for the physics interface of the fundamental wave", "output": "model.physics('ewfd').label('Fundamental');", "explanation": "Physics: Unknown. Purpose: This step is needed to organize and identify the physics interface for the fundamental wave in the simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd"]}
{"instruction": "[Model] Sets the tag for the Electromagnetic Waves, Frequency Domain interface to 'ewfd1'", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to differentiate between the two Electromagnetic Waves, Frequency Domain interfaces used in the model for the fundamental wave and the second harmonic\nWhat to do: Sets the tag for the Electromagnetic Waves, Frequency Domain interface to 'ewfd1'", "output": "model.physics('ewfd').tag('ewfd1');", "explanation": "Physics: Unknown. Purpose: This step is needed to differentiate between the two Electromagnetic Waves, Frequency Domain interfaces used in the model for the fundamental wave and the second harmonic", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd"]}
{"instruction": "[Model] Sets the components of the Electromagnetic Waves, Frequency Domain interface to in-plane", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the direction of the electric field components for the fundamental wave\nWhat to do: Sets the components of the Electromagnetic Waves, Frequency Domain interface to in-plane", "output": "model.physics('ewfd1').prop('components').set('components', 'inplane');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the direction of the electric field components for the fundamental wave", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1"]}
{"instruction": "[Model] Creates a polarization feature for the fundamental wave using the Electromagnetic Waves, Frequency Domain interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process\nWhat to do: Creates a polarization feature for the fundamental wave using the Electromagnetic Waves, Frequency Domain interface", "output": "model.physics('ewfd1').create('pol1', 'Polarization', 2);", "explanation": "Physics: Unknown. Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "pol1"]}
{"instruction": "[Model] Sets the selection for the polarization feature of the fundamental wave interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the domain where the polarization feature is active, which is used to couple the fundamental wave and the second harmonic wave in the SHG process\nWhat to do: Sets the selection for the polarization feature of the fundamental wave interface", "output": "model.physics('ewfd1').feature('pol1').selection.set([2]);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the domain where the polarization feature is active, which is used to couple the fundamental wave and the second harmonic wave in the SHG process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "pol1"]}
{"instruction": "[Model] Sets the polarization coupling term between the fundamental wave and the second harmonic wave", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process\nWhat to do: Sets the polarization coupling term between the fundamental wave and the second harmonic wave", "output": "model.physics('ewfd1').feature('pol1').set('P', {'0' '2*d*ewfd2.Ey*conj(ewfd1.Ey)' '0'});", "explanation": "Physics: Unknown. Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "ewfd2"]}
{"instruction": "[Model] Creates a Scattering boundary condition for the fundamental wave interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the scattering boundary condition for the fundamental wave interface in the second harmonic generation process\nWhat to do: Creates a Scattering boundary condition for the fundamental wave interface", "output": "model.physics('ewfd1').create('sctr1', 'Scattering', 1);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the scattering boundary condition for the fundamental wave interface in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr1"]}
{"instruction": "[Model] Sets the selection for the scattering feature of the first Electromagnetic Waves, Frequency Domain interface to domain 1", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the domain where the scattering feature is applied for the fundamental wave\nWhat to do: Sets the selection for the scattering feature of the first Electromagnetic Waves, Frequency Domain interface to domain 1", "output": "model.physics('ewfd1').feature('sctr1').selection.set([1]);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the domain where the scattering feature is applied for the fundamental wave", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr1"]}
{"instruction": "[Model] Sets the incident field for the fundamental wave to EField", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the incident field for the fundamental wave in the second harmonic generation process\nWhat to do: Sets the incident field for the fundamental wave to EField", "output": "model.physics('ewfd1').feature('sctr1').set('IncidentField', 'EField');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the incident field for the fundamental wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr1"]}
{"instruction": "[Model] Sets the incident electric field for the fundamental wave in the second harmonic generation model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the input electric field for the fundamental wave, which will interact with the second harmonic wave in the simulation\nWhat to do: Sets the incident electric field for the fundamental wave in the second harmonic generation model", "output": "model.physics('ewfd1').feature('sctr1').set('E0i', {'0' 'E1' '0'});", "explanation": "Physics: Unknown. Purpose: This step is needed to define the input electric field for the fundamental wave, which will interact with the second harmonic wave in the simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr1"]}
{"instruction": "[Model] Creates a Scattering boundary condition for the second harmonic wave in the frequency domain model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the scattering behavior of the second harmonic wave at the boundaries of the computational domain\nWhat to do: Creates a Scattering boundary condition for the second harmonic wave in the frequency domain model", "output": "model.physics('ewfd1').create('sctr2', 'Scattering', 1);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the scattering behavior of the second harmonic wave at the boundaries of the computational domain", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr2"]}
{"instruction": "[Model] Sets the selection for the scattering variable 'sctr2' in the 'ewfd1' physics interface to element 10", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the region where the scattering variable is applied in the second harmonic generation process\nWhat to do: Sets the selection for the scattering variable 'sctr2' in the 'ewfd1' physics interface to element 10", "output": "model.physics('ewfd1').feature('sctr2').selection.set([10]);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the region where the scattering variable is applied in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd1", "sctr2"]}
{"instruction": "[Model] Defines the second harmonic wave physics using the Electromagnetic Waves, Frequency Domain interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To simulate the second harmonic generation process in the frequency domain\nWhat to do: Defines the second harmonic wave physics using the Electromagnetic Waves, Frequency Domain interface", "output": "model.physics('ewfd2').label('Second Harmonic');", "explanation": "Physics: Unknown. Purpose: To simulate the second harmonic generation process in the frequency domain", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Sets the components of the second harmonic wave to in-plane", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the direction of the second harmonic wave propagation in the simulation\nWhat to do: Sets the components of the second harmonic wave to in-plane", "output": "model.physics('ewfd2').prop('components').set('components', 'inplane');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the direction of the second harmonic wave propagation in the simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Sets the equation form of the second harmonic frequency domain interface to frequency form", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the frequency domain equation form for the second harmonic wave in the SHG process\nWhat to do: Sets the equation form of the second harmonic frequency domain interface to frequency form", "output": "model.physics('ewfd2').prop('EquationForm').setIndex('form', 'Frequency', 0);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the frequency domain equation form for the second harmonic wave in the SHG process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Sets the equation form for the second harmonic frequency domain interface to use a user-defined source term", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process\nWhat to do: Sets the equation form for the second harmonic frequency domain interface to use a user-defined source term", "output": "model.physics('ewfd2').prop('EquationForm').setIndex('freq_src', 'userdef', 0);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Sets the equation form index for the second harmonic frequency domain interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the equation form for the second harmonic frequency domain interface in the multi-physics simulation of second harmonic generation\nWhat to do: Sets the equation form index for the second harmonic frequency domain interface", "output": "model.physics('ewfd2').prop('EquationForm').setIndex('freq', 'f2', 0);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the equation form for the second harmonic frequency domain interface in the multi-physics simulation of second harmonic generation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2"]}
{"instruction": "[Model] Creates a polarization feature for the second harmonic wave using the Electromagnetic Waves, Frequency Domain interface", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process\nWhat to do: Creates a polarization feature for the second harmonic wave using the Electromagnetic Waves, Frequency Domain interface", "output": "model.physics('ewfd2').create('pol1', 'Polarization', 2);", "explanation": "Physics: Unknown. Purpose: To implement the coupling between the fundamental wave and the second harmonic wave in the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "pol1"]}
{"instruction": "[Model] Sets the selection for the polarization feature of the second harmonic wave to domain 2", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the second domain\nWhat to do: Sets the selection for the polarization feature of the second harmonic wave to domain 2", "output": "model.physics('ewfd2').feature('pol1').selection.set([2]);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the second domain", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "pol1"]}
{"instruction": "[Model] Sets the polarization source term for the second harmonic generation process", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the frequency domain simulation\nWhat to do: Sets the polarization source term for the second harmonic generation process", "output": "model.physics('ewfd2').feature('pol1').set('P', {'0' 'd*ewfd1.Ey*ewfd1.Ey' '0'});", "explanation": "Physics: Unknown. Purpose: This step is needed to define the coupling between the fundamental wave and the second harmonic wave in the frequency domain simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "pol1", "ewfd1"]}
{"instruction": "[Model] Creates a Scattering boundary condition for the second harmonic wave", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the scattering boundary condition for the second harmonic wave in the simulation\nWhat to do: Creates a Scattering boundary condition for the second harmonic wave", "output": "model.physics('ewfd2').create('sctr1', 'Scattering', 1);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the scattering boundary condition for the second harmonic wave in the simulation", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "sctr1"]}
{"instruction": "[Model] Sets the selection for the scattering variable 'sctr1' in the 'ewfd2' physics interface to domains 1 and 10", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the domains where the second harmonic generation process occurs\nWhat to do: Sets the selection for the scattering variable 'sctr1' in the 'ewfd2' physics interface to domains 1 and 10", "output": "model.physics('ewfd2').feature('sctr1').selection.set([1 10]);", "explanation": "Physics: Unknown. Purpose: This step is needed to define the domains where the second harmonic generation process occurs", "confidence": 0.3, "source": "code_first", "category": "physics", "match_info": "Generated from code analysis with model context", "comsol_ids": ["ewfd2", "sctr1"]}
{"instruction": "[Model] Creates a mesh mapping named 'map1' of type 'Map' using the mesh named 'mesh1' in the model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to create a mesh suitable for the simulation of the second harmonic generation process\nWhat to do: Creates a mesh mapping named 'map1' of type 'Map' using the mesh named 'mesh1' in the model", "output": "model.mesh('mesh1').create('map1', 'Map');", "explanation": "Physics: Unknown. Purpose: This step is needed to create a mesh suitable for the simulation of the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "mesh", "match_info": "Generated from code analysis with model context", "comsol_ids": ["mesh1", "map1"]}
{"instruction": "[Model] Sets the mesh size to custom in the model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To have a finer control over the mesh size for accurate results in the second harmonic generation simulation\nWhat to do: Sets the mesh size to custom in the model", "output": "model.mesh('mesh1').feature('size').set('custom', true);", "explanation": "Physics: Unknown. Purpose: To have a finer control over the mesh size for accurate results in the second harmonic generation simulation", "confidence": 0.3, "source": "code_first", "category": "mesh", "match_info": "Generated from code analysis with model context", "comsol_ids": ["mesh1", "size"]}
{"instruction": "[Model] Sets the maximum element size for the mesh to the value of the variable sim_h", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to control the mesh size for accurate simulation results\nWhat to do: Sets the maximum element size for the mesh to the value of the variable sim_h", "output": "model.mesh('mesh1').feature('size').set('hmax', 'sim_h');", "explanation": "Physics: Unknown. Purpose: This step is needed to control the mesh size for accurate simulation results", "confidence": 0.3, "source": "code_first", "category": "mesh", "match_info": "Generated from code analysis with model context", "comsol_ids": ["mesh1", "size"]}
{"instruction": "[Model] Sets the minimum mesh size to a variable 'sim_h' for mesh 'mesh1' in the model", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to control the mesh size for accurate simulation results\nWhat to do: Sets the minimum mesh size to a variable 'sim_h' for mesh 'mesh1' in the model", "output": "model.mesh('mesh1').feature('size').set('hmin', 'sim_h');", "explanation": "Physics: Unknown. Purpose: This step is needed to control the mesh size for accurate simulation results", "confidence": 0.3, "source": "code_first", "category": "mesh", "match_info": "Generated from code analysis with model context", "comsol_ids": ["mesh1", "size"]}
{"instruction": "[Model] Creates a variable 'var1' and sets its value to a coupling coefficient formula", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To define the coupling coefficient for the second harmonic generation process\nWhat to do: Creates a variable 'var1' and sets its value to a coupling coefficient formula", "output": "model.variable.create('var1');\nmodel.variable('var1').model('comp1');\nmodel.variable('var1').set('gamma', 'sqrt(8*d^2*Z0_const^3*(2*pi*ewfd1.freq)^2*I1)');\nmodel.variable('var1').descr('gamma', 'Coupling coefficient');", "explanation": "Physics: Unknown. Purpose: To define the coupling coefficient for the second harmonic generation process", "confidence": 0.3, "source": "code_first", "category": "parameters", "match_info": "Generated from code analysis with model context", "comsol_ids": ["var1"]}
{"instruction": "[Model] Sets the frequency list for the study 'std1' to 'f1'", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to define the frequency range for the study, which is important for the frequency domain analysis of the second harmonic generation process\nWhat to do: Sets the frequency list for the study 'std1' to 'f1'", "output": "model.study('std1').feature('freq').set('plist', 'f1');", "explanation": "Physics: Unknown. Purpose: This step is needed to define the frequency range for the study, which is important for the frequency domain analysis of the second harmonic generation process", "confidence": 0.5, "source": "code_first", "category": "study", "match_info": "Generated from code analysis with model context", "comsol_ids": ["std1", "freq"]}
{"instruction": "[Model] Creates a solution object named 'sol1' for the model", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol.create('sol1');", "explanation": "Physics: Unknown. Purpose: To store and manage the solutions of the physics simulations", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1"]}
{"instruction": "[Model] Solves the study 'std1' using the solution 'sol1' from the model", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').study('std1');", "explanation": "Physics: Unknown. Purpose: This step is needed to solve the study and obtain the results for analysis and comparison with the analytical solution", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "std1"]}
{"instruction": "[Model] Creates a study step for the frequency domain study", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').create('st1', 'StudyStep');\nmodel.sol('sol1').feature('st1').set('study', 'std1');\nmodel.sol('sol1').feature('st1').set('studystep', 'freq');", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the frequency domain study for the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "st1", "std1", "freq"]}
{"instruction": "[Model] Creates a new variable 'v1' in the solution 'sol1' and sets its control to frequency", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').create('v1', 'Variables');\nmodel.sol('sol1').feature('v1').set('control', 'freq');", "explanation": "Physics: Unknown. Purpose: This step is needed to define a variable for controlling the frequency in the study", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "v1"]}
{"instruction": "[Model] Creates a stationary solver and sets the tolerance for the solution", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').create('s1', 'Stationary');\nmodel.sol('sol1').feature('s1').set('stol', 0.01);", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the solver for the stationary study in the simulation", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "s1"]}
{"instruction": "[Model] Creates a parametric solver with frequency as the parameter and sets various solver settings", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').feature('s1').create('p1', 'Parametric');\nmodel.sol('sol1').feature('s1').feature.remove('pDef');\nmodel.sol('sol1').feature('s1').feature('p1').set('pname', {'freq'});\nmodel.sol('sol1').feature('s1').feature('p1').set('plistarr', {'f1'});\nmodel.sol('sol1').feature('s1').feature('p1').set('punit', {'THz'});\nmodel.sol('sol1').feature('s1').feature('p1').set('pcontinuationmode', 'no');\nmodel.sol('sol1').feature('s1').feature('p1').set('preusesol', 'no');\nmodel.sol('sol1').feature('s1').feature('p1').set('pdistrib', 'off');\nmodel.sol('sol1').feature('s1').feature('p1').set('plot', 'off');\nmodel.sol('sol1').feature('s1').feature('p1').set('plotgroup', 'Default');\nmodel.sol('sol1').feature('s1').feature('p1').set('probesel', 'all');\nmodel.sol('sol1').feature('s1').feature('p1').set('probes', {});\nmodel.sol('sol1').feature('s1').feature('p1').set('control', 'freq');\nmodel.sol('sol1').feature('s1').set('linpmethod', 'sol');\nmodel.sol('sol1').feature('s1').set('linpsol', 'zero');\nmodel.sol('sol1').feature('s1').set('control', 'freq');\nmodel.sol('sol1').feature('s1').feature('aDef').set('complexfun', true);\nmodel.sol('sol1').feature('s1').feature('aDef').set('cachepattern', false);", "explanation": "Physics: Unknown. Purpose: This step is needed to set up a parametric study for the frequency domain analysis of the second harmonic generation process", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "s1", "p1"]}
{"instruction": "[Model] Creates a segregated solver for the solution 'sol1'", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').feature('s1').create('seDef', 'Segregated');", "explanation": "Physics: Unknown. Purpose: Needed to solve the multi-physics problem of second harmonic generation", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "s1"]}
{"instruction": "[Model] Creates a fully coupled solver for the solution 'sol1' using the 's1' study", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').feature('s1').create('fc1', 'FullyCoupled');", "explanation": "Physics: Unknown. Purpose: Needed to solve the multi-physics problem involving second harmonic generation", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "s1"]}
{"instruction": "[Model] Configures the solver settings for the study 'sol1', including the direct solver, tolerance, and splitting complex numbers", "input": "1 In the Study toolbar, click \n\nShow Default Solver.\n\n2 In the Model Builder window, expand the Solution 1 (sol1) node, then click \n\nCompile Equations: Frequency Domain.\n\n3 In the Settings window for Compile Equations, locate the Study and Step section.\n\n4 Select the Split complex variables in real and imaginary parts check box.\n\n5 In the Model Builder window, under Study 1>Solver Configurations>Solution 1 (sol1) click \n\nStationary Solver 1.\n\n6 In the Settings window for Stationary Solver, locate the General section.\n\n7 In the Relative tolerance text field, type 0.001.\n\n8 In the Study toolbar, click \n\nCompute.\n\nSince the polarization expression for the fundamental harmonic contains the complex \nconjugate of the electric field, it is advisable to split complex variables in real and \nimaginary parts in order to improve convergence. Moreover, the tolerance has been \nmanually decreased to 0.001 to ensure that the nonlinear solver has converged to a \nsolution and not just incidentally reached below the tolerance.\n\nR E S U L T S\n\nFundamental\nIn the Settings window for 2D Plot Group, type Fundamental in the Label text field.\n\n16  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fSurface 1\n1 In the Model Builder window, expand the Fundamental node, then click Surface 1.\n\n2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd1.Ey.\n\nFundamental\nBefore finishing the plot, update the plot title.\n\n1 In the Model Builder window, click Fundamental.\n\n2 In the Settings window for 2D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for fundamental \n\nwave.\n\n5 In the Fundamental toolbar, click \n\nPlot.\n\nSecond Harmonic\n1 In the Model Builder window, under Results click Electric Field (ewfd2).\n\n2 In the Settings window for 2D Plot Group, type Second Harmonic in the Label text field.\n\nSurface 1\n1 In the Model Builder window, expand the Second Harmonic node, then click Surface 1.\n\n17  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f2 In the Settings window for Surface, locate the Expression section.\n\n3 In the Expression text field, type ewfd2.Ey.\n\nSecond Harmonic\nAgain, update the plot title.\n\n1 In the Model Builder window, click Second Harmonic.\n\n2 In the Settings window for 2D Plot Group, locate the Title section.\n\n3 From the Title type list, choose Manual.\n\n4 In the Title text area, type Electric field, y-component (V/m) for second \n\nharmonic wave.\n\n5 In the Second Harmonic toolbar, click \n\nPlot.\n\nNotice that the wavelength is half of that displayed in the Fundamental plot group for \nthe fundamental wave.\n\nElectric Fields\nNow create a line graph showing the electric fields for the fundamental and the second \nharmonic waves.\n\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Electric Fields in the Label text field.\n\n18  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\fFundamental\n1 Right-click Electric Fields and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Fundamental in the Label text field.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey.\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Click to expand the Coloring and Style section. From the Width list, choose 2.\n\n8 Click to expand the Legends section. Select the Show legends check box.\n\n9 Find the Include subsection. Select the Label check box.\n\n10 Clear the Solution check box.\n\n11 Right-click Fundamental and choose Duplicate.\n\nSecond Harmonic\n1 In the Model Builder window, under Results>Electric Fields click Fundamental 1.\n\n2 In the Settings window for Line Graph, type Second Harmonic in the Label text field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey.\n\nElectric Fields\n1 In the Model Builder window, click Electric Fields.\n\n2 In the Settings window for 1D Plot Group, click to expand the Title section.\n\n3 From the Title type list, choose Manual.\n\n19  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f4 In the Title text area, type Fundamental and Second Harmonic Electric Fields.\n\nPhoton Flux Density\n1 In the Home toolbar, click \n\nAdd Plot Group and choose 1D Plot Group.\n\n2 In the Settings window for 1D Plot Group, type Photon Flux Density in the Label text \n\nfield.\n\nSimulation Fundamental\n1 Right-click Photon Flux Density and choose Line Graph.\n\n2 In the Settings window for Line Graph, type Simulation Fundamental in the Label text \n\nfield.\n\n3 Select Boundaries 2, 5, and 8 only.\n\n4 Locate the y-Axis Data section. In the Expression text field, type ewfd1.Ey*\nconj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq).\n\n5 Locate the x-Axis Data section. From the Parameter list, choose Expression.\n\n6 In the Expression text field, type x.\n\n7 Locate the Coloring and Style section. Find the Line style subsection. From the Line list, \n\nchoose None.\n\n8 From the Width list, choose 5.\n\n20  |   S E C O N D   H A R M O N I C   G E N E R A T I O N   I N   T H E   F R E Q U E N C Y   D O M A I N\n\n\f9 Find the Line markers subsection. From the Marker list, choose Diamond.\n\n10 From the Positioning list, choose Interpolated.\n\n11 In the Number text field, type 20.\n\n12 Locate the Legends section. Select the Show legends check box.\n\n13 Find the Include subsection. Select the Label check box.\n\n14 Clear the Solution check box.\n\n15 Right-click Simulation Fundamental and choose Duplicate.\n\nSimulation Second Harmonic\n1 In the Model Builder window, under Results>Photon Flux Density click \n\nSimulation Fundamental 1.\n\n2 In the Settings window for Line Graph, type Simulation Second Harmonic in the Label \n\ntext field.\n\n3 Locate the y-Axis Data section. In the Expression text field, type ewfd2.Ey*\nconj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq).\n\n4 Right-click Simulation Second Harmonic and choose Duplicate.", "output": "model.sol('sol1').feature('s1').create('d1', 'Direct');\nmodel.sol('sol1').feature('s1').feature('d1').set('linsolver', 'mumps');\nmodel.sol('sol1').feature('s1').feature('d1').label('Suggested Direct Solver (ewfd1) (Merged)');\nmodel.sol('sol1').feature('s1').feature('fc1').set('linsolver', 'd1');\nmodel.sol('sol1').feature('s1').feature.remove('fcDef');\nmodel.sol('sol1').feature('s1').feature.remove('seDef');\nmodel.sol('sol1').attach('std1');\nmodel.sol('sol1').feature('st1').set('splitcomplex', true);\nmodel.sol('sol1').feature('s1').set('stol', 0.001);\nmodel.sol('sol1').runAll;", "explanation": "Physics: Unknown. Purpose: This step is needed to set up the solver for the second harmonic generation simulation, ensuring accurate and efficient computation of the electromagnetic waves", "confidence": 1.3, "source": "code_first", "category": "study", "match_info": "Matched to PDF section: Solution 1 (sol1)", "comsol_ids": ["sol1", "s1", "d1", "fc1", "std1", "st1"]}
{"instruction": "[Model] Creates a 2D plot group for the electric field of the fundamental wave and sets its properties.", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize and analyze the electric field distribution of the fundamental wave in the second harmonic generation process.\nWhat to do: Creates a 2D plot group for the electric field of the fundamental wave and sets its properties.", "output": "model.result.create('pg1', 'PlotGroup2D');\nmodel.result('pg1').label('Electric Field (ewfd1)');\nmodel.result('pg1').set('frametype', 'spatial');\nmodel.result('pg1').set('data', 'dset1');\nmodel.result('pg1').setIndex('looplevel', 1, 0);\nmodel.result('pg1').set('defaultPlotID', 'ElectromagneticWavesFrequencyDomain/phys1/pdef1/pcond2/pg1');", "explanation": "Physics: Unknown. Purpose: To visualize and analyze the electric field distribution of the fundamental wave in the second harmonic generation process.", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg1", "dset1", "pdef1", "pcond2"]}
{"instruction": "[Model] Creates a smooth surface plot of the results from the 'pg1' plot group", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize the second harmonic generation process in the frequency domain\nWhat to do: Creates a smooth surface plot of the results from the 'pg1' plot group", "output": "model.result('pg1').feature.create('surf1', 'Surface');\nmodel.result('pg1').feature('surf1').set('smooth', 'internal');\nmodel.result('pg1').feature('surf1').set('data', 'parent');", "explanation": "Physics: Unknown. Purpose: To visualize the second harmonic generation process in the frequency domain", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["surf1"]}
{"instruction": "[Model] Creates a 2D plot group for the electric field of the second harmonic wave and sets its properties.", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize and analyze the electric field distribution of the second harmonic wave in the simulation.\nWhat to do: Creates a 2D plot group for the electric field of the second harmonic wave and sets its properties.", "output": "model.result.create('pg2', 'PlotGroup2D');\nmodel.result('pg2').label('Electric Field (ewfd2)');\nmodel.result('pg2').set('frametype', 'spatial');\nmodel.result('pg2').set('data', 'dset1');\nmodel.result('pg2').setIndex('looplevel', 1, 0);\nmodel.result('pg2').set('defaultPlotID', 'ElectromagneticWavesFrequencyDomain/phys1/pdef1/pcond2/pg1');", "explanation": "Physics: Unknown. Purpose: To visualize and analyze the electric field distribution of the second harmonic wave in the simulation.", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg2", "dset1", "ElectromagneticWavesFrequencyDomain/phys1/pdef1/pcond2/pg1"]}
{"instruction": "[Model] This code segment creates surface plots for the electric field y-component of the fundamental and second harmonic waves in a second harmonic generation simulation.", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: The surface plots provide a visual representation of the electric field distribution for both the fundamental and second harmonic waves, allowing for analysis and comparison with the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nWhat to do: This code segment creates surface plots for the electric field y-component of the fundamental and second harmonic waves in a second harmonic generation simulation.", "output": "model.result('pg2').feature.create('surf1', 'Surface');\nmodel.result('pg2').feature('surf1').set('expr', 'ewfd2.normE');\nmodel.result('pg2').feature('surf1').set('smooth', 'internal');\nmodel.result('pg2').feature('surf1').set('data', 'parent');\nmodel.result('pg1').run;\nmodel.result('pg1').label('Fundamental');\nmodel.result('pg1').run;\nmodel.result('pg1').feature('surf1').set('expr', 'ewfd1.Ey');\nmodel.result('pg1').run;\nmodel.result('pg1').set('titletype', 'manual');\nmodel.result('pg1').set('title', 'Electric field, y-component (V/m) for fundamental wave');\nmodel.result('pg1').run;\nmodel.result('pg2').run;\nmodel.result('pg2').label('Second Harmonic');\nmodel.result('pg2').run;\nmodel.result('pg2').feature('surf1').set('expr', 'ewfd2.Ey');\nmodel.result('pg2').run;\nmodel.result('pg2').set('titletype', 'manual');\nmodel.result('pg2').set('title', 'Electric field, y-component (V/m) for second harmonic wave');\nmodel.result('pg2').run;", "explanation": "Physics: Unknown. Purpose: The surface plots provide a visual representation of the electric field distribution for both the fundamental and second harmonic waves, allowing for analysis and comparison with the analytical solution from the Slowly Varying Envelope Approximation (SVEA).", "confidence": 0.2, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg1", "pg2"]}
{"instruction": "[Model] Creates a 1D plot group for electric fields and runs it", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize and analyze the electric field distribution in the model\nWhat to do: Creates a 1D plot group for electric fields and runs it", "output": "model.result.create('pg3', 'PlotGroup1D');\nmodel.result('pg3').run;\nmodel.result('pg3').label('Electric Fields');", "explanation": "Physics: Unknown. Purpose: To visualize and analyze the electric field distribution in the model", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg3"]}
{"instruction": "[Model] Creates line graphs for fundamental and second harmonic electric fields and sets their properties", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize and analyze the electric field distribution of the fundamental and second harmonic waves in the second harmonic generation process\nWhat to do: Creates line graphs for fundamental and second harmonic electric fields and sets their properties", "output": "model.result('pg3').create('lngr1', 'LineGraph');\nmodel.result('pg3').feature('lngr1').set('markerpos', 'datapoints');\nmodel.result('pg3').feature('lngr1').set('linewidth', 'preference');\nmodel.result('pg3').feature('lngr1').label('Fundamental');\nmodel.result('pg3').feature('lngr1').selection.set([2 5 8]);\nmodel.result('pg3').feature('lngr1').set('expr', 'ewfd1.Ey');\nmodel.result('pg3').feature('lngr1').set('xdata', 'expr');\nmodel.result('pg3').feature('lngr1').set('xdataexpr', 'x');\nmodel.result('pg3').feature('lngr1').set('linewidth', 2);\nmodel.result('pg3').feature('lngr1').set('legend', true);\nmodel.result('pg3').feature('lngr1').set('autoplotlabel', true);\nmodel.result('pg3').feature('lngr1').set('autosolution', false);\nmodel.result('pg3').feature.duplicate('lngr2', 'lngr1');\nmodel.result('pg3').run;\nmodel.result('pg3').feature('lngr2').label('Second Harmonic');\nmodel.result('pg3').feature('lngr2').set('expr', 'ewfd2.Ey');\nmodel.result('pg3').run;\nmodel.result('pg3').set('titletype', 'manual');\nmodel.result('pg3').set('title', 'Fundamental and Second Harmonic Electric Fields');", "explanation": "Physics: Unknown. Purpose: To visualize and analyze the electric field distribution of the fundamental and second harmonic waves in the second harmonic generation process", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg3", "lngr1", "lngr2"]}
{"instruction": "[Model] Creates a 1D plot group, runs it, and labels it as 'Photon Flux Density'", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: To visualize and analyze the photon flux density results from the second harmonic generation simulation\nWhat to do: Creates a 1D plot group, runs it, and labels it as 'Photon Flux Density'", "output": "model.result.create('pg4', 'PlotGroup1D');\nmodel.result('pg4').run;\nmodel.result('pg4').label('Photon Flux Density');", "explanation": "Physics: Unknown. Purpose: To visualize and analyze the photon flux density results from the second harmonic generation simulation", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg4"]}
{"instruction": "[Model] Creates line graphs for fundamental and second harmonic photon flux densities and compares them with the analytical solution from the Slowly Varying Envelope Approximation (SVEA).", "input": "Model Context: This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.\n\nFor convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.\n\nThe results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).\nPhysics: Multi-physics\nStep Purpose: This step is needed to visualize and analyze the results of the second harmonic generation simulation, comparing the simulation results with the analytical solution.\nWhat to do: Creates line graphs for fundamental and second harmonic photon flux densities and compares them with the analytical solution from the Slowly Varying Envelope Approximation (SVEA).", "output": "model.result('pg4').create('lngr1', 'LineGraph');\nmodel.result('pg4').feature('lngr1').set('markerpos', 'datapoints');\nmodel.result('pg4').feature('lngr1').set('linewidth', 'preference');\nmodel.result('pg4').feature('lngr1').label('Simulation Fundamental');\nmodel.result('pg4').feature('lngr1').selection.set([2 5 8]);\nmodel.result('pg4').feature('lngr1').set('expr', 'ewfd1.Ey*conj(ewfd1.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd1.freq)');\nmodel.result('pg4').feature('lngr1').set('xdata', 'expr');\nmodel.result('pg4').feature('lngr1').set('xdataexpr', 'x');\nmodel.result('pg4').feature('lngr1').set('linestyle', 'none');\nmodel.result('pg4').feature('lngr1').set('linewidth', 5);\nmodel.result('pg4').feature('lngr1').set('linemarker', 'diamond');\nmodel.result('pg4').feature('lngr1').set('markerpos', 'interp');\nmodel.result('pg4').feature('lngr1').set('markers', 20);\nmodel.result('pg4').feature('lngr1').set('legend', true);\nmodel.result('pg4').feature('lngr1').set('autoplotlabel', true);\nmodel.result('pg4').feature('lngr1').set('autosolution', false);\nmodel.result('pg4').feature.duplicate('lngr2', 'lngr1');\nmodel.result('pg4').run;\nmodel.result('pg4').feature('lngr2').label('Simulation Second Harmonic');\nmodel.result('pg4').feature('lngr2').set('expr', 'ewfd2.Ey*conj(ewfd2.Ey)/(2*Z0_const)/hbar_const/(2*pi*ewfd2.freq)');\nmodel.result('pg4').feature.duplicate('lngr3', 'lngr2');\nmodel.result('pg4').run;\nmodel.result('pg4').feature('lngr3').label('Slowly Varying Envelope Approximation (SVEA) Fundamental');\nmodel.result('pg4').feature('lngr3').selection.set([5]);\nmodel.result('pg4').feature('lngr3').set('expr', '(sech(gamma*(x - offset)/2))^2*I1/hbar_const/(2*pi*ewfd1.freq)');\nmodel.result('pg4').feature('lngr3').set('linestyle', 'solid');\nmodel.result('pg4').feature('lngr3').set('linewidth', 2);\nmodel.result('pg4').feature('lngr3').set('linemarker', 'none');\nmodel.result('pg4').feature('lngr3').set('legendmethod', 'manual');\nmodel.result('pg4').feature('lngr3').setIndex('legends', 'SVEA Fundamental', 0);\nmodel.result('pg4').feature.duplicate('lngr4', 'lngr3');\nmodel.result('pg4').run;\nmodel.result('pg4').feature('lngr4').label('Slowly Varying Envelope Approximation (SVEA) Second Harmonic');\nmodel.result('pg4').feature('lngr4').set('expr', '(tanh(gamma*(x - offset)/2))^2*I1/hbar_const/(2*pi*ewfd2.freq)');\nmodel.result('pg4').feature('lngr4').setIndex('legends', 'SVEA Second Harmonic', 0);\nmodel.result('pg4').run;\nmodel.result('pg4').set('titletype', 'manual');\nmodel.result('pg4').set('title', 'Fundamental and Second Harmonic Photon Flux Density');\nmodel.result('pg4').set('ylabelactive', true);\nmodel.result('pg4').set('ylabel', 'Photon Flux Density (photons per m^2 s)');\n\nmodel.title('Second Harmonic Generation in the Frequency Domain');\n\nmodel.description(['This is a proof of principle example, describing the second harmonic generation (SHG) process using two Electromagnetic Waves, Frequency Domain interfaces. One for the fundamental wave and one for the second harmonic.' newline  newline 'For convenience, the refractive index is perfectly matched (at n = 1) for each frequency. The coupling between the waves is implemented using a domain Polarization feature for each interface.' newline  newline 'The results are compared against the analytical solution from the Slowly Varying Envelope Approximation (SVEA).']);\n\nmodel.mesh.clearMeshes;\n\nmodel.sol('sol1').clearSolutionData;\n\nmodel.label('second_harmonic_generation_frequency_domain.mph');\n\nmodel.modelNode.label('Components');\n\nout = model;", "explanation": "Physics: Unknown. Purpose: This step is needed to visualize and analyze the results of the second harmonic generation simulation, comparing the simulation results with the analytical solution.", "confidence": 0.5, "source": "code_first", "category": "results", "match_info": "Generated from code analysis with model context", "comsol_ids": ["pg4", "lngr1", "lngr2", "lngr3", "lngr4"]}
